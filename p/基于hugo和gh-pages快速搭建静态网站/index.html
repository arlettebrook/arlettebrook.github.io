<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="利用静态网页生成器Hugo，github pages构建网站，搭建个人博客。"><title>基于Hugo和gh-pages快速搭建静态网站</title>
<link rel=canonical href=https://arlettebrook.github.io/p/%E5%9F%BA%E4%BA%8Ehugo%E5%92%8Cgh-pages%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/><link rel=stylesheet href=/scss/style.min.505938c6c688784167a9f82747dd1fc8c9c6c9e2137f29599d0e43e8740344b5.css><meta property='og:title' content="基于Hugo和gh-pages快速搭建静态网站"><meta property='og:description' content="利用静态网页生成器Hugo，github pages构建网站，搭建个人博客。"><meta property='og:url' content='https://arlettebrook.github.io/p/%E5%9F%BA%E4%BA%8Ehugo%E5%92%8Cgh-pages%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/'><meta property='og:site_name' content="Arlettebrook's blog"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='github pages'><meta property='article:tag' content='hugo'><meta property='article:tag' content='github'><meta property='article:published_time' content='2024-04-22T16:12:26+08:00'><meta property='article:modified_time' content='2024-05-18T19:04:26+08:00'><meta property='og:image' content='https://arlettebrook.github.io/p/%E5%9F%BA%E4%BA%8Ehugo%E5%92%8Cgh-pages%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/hugo.jpg'><meta name=twitter:site content="@arlettebrook"><meta name=twitter:creator content="@arlettebrook"><meta name=twitter:title content="基于Hugo和gh-pages快速搭建静态网站"><meta name=twitter:description content="利用静态网页生成器Hugo，github pages构建网站，搭建个人博客。"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://arlettebrook.github.io/p/%E5%9F%BA%E4%BA%8Ehugo%E5%92%8Cgh-pages%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/hugo.jpg'><link rel="shortcut icon" href=/img/favicon.ico><script async src="https://www.googletagmanager.com/gtag/js?id=G-9MKLLVPEER"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-9MKLLVPEER")}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><div id=article-toolbar style=position:sticky;top:5px;z-index:1000><a href=/ class=back-home><svg class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg>
<span>返回</span></a></div><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#静态网页生成器>静态网页生成器</a><ol><li><a href=#常见的静态网页生成器>常见的静态网页生成器</a></li></ol></li><li><a href=#快速使用hugo搭建个人博客站点>快速使用Hugo搭建个人博客站点</a><ol><li><a href=#安装hugo>安装Hugo</a></li><li><a href=#使用hugo>使用Hugo</a></li><li><a href=#目录结构>目录结构</a></li><li><a href=#配置文件>配置文件</a></li><li><a href=#文章评论>文章评论</a></li><li><a href=#搜索引擎优化seo>搜索引擎优化（SEO）</a><ol><li><a href=#谷歌搜索优化>谷歌搜索优化</a></li><li><a href=#百度搜索优化>百度搜索优化</a></li><li><a href=#其他平台收录>其他平台收录</a></li></ol></li></ol></li><li><a href=#额外的一些知识>额外的一些知识</a><ol><li><a href=#用gh-pages分支展示自己的项目>用gh-pages分支展示自己的项目</a></li><li><a href=#通过github-actions自动部署gh-pages>通过GitHub Actions自动部署gh-pages</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/%E5%9F%BA%E4%BA%8Ehugo%E5%92%8Cgh-pages%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/><img src=/p/%E5%9F%BA%E4%BA%8Ehugo%E5%92%8Cgh-pages%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/hugo_hu4773291511026196957.jpg srcset="/p/%E5%9F%BA%E4%BA%8Ehugo%E5%92%8Cgh-pages%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/hugo_hu4773291511026196957.jpg 800w, /p/%E5%9F%BA%E4%BA%8Ehugo%E5%92%8Cgh-pages%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/hugo_hu4180424280031756831.jpg 1600w" width=800 height=600 loading=lazy alt="Featured image of post 基于Hugo和gh-pages快速搭建静态网站"></a></div><div class=article-details><header class=article-category><a href=/categories/git/ style=background-color:#2a9d8f;color:#fff>Git
</a><a href=/categories/%E7%BD%91%E7%AB%99/ style=background-color:#90d26d;color:#fff>网站
</a><a href=/categories/go/ style=background-color:#f97300;color:#fff>Go</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/%E5%9F%BA%E4%BA%8Ehugo%E5%92%8Cgh-pages%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/>基于Hugo和gh-pages快速搭建静态网站</a></h2><h3 class=article-subtitle>利用静态网页生成器Hugo，github pages构建网站，搭建个人博客。</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Apr 22, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 17 分钟</time></div></footer><footer class=article-translations><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><div><a href=https://arlettebrook.github.io/en/p/%E5%9F%BA%E4%BA%8Ehugo%E5%92%8Cgh-pages%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/ class=link>English</a></div></footer></div></header><section class=article-content><h2 id=静态网页生成器>静态网页生成器</h2><p>无论您需要搭建个人博客还是为您的项目创建文档，静态网页生成器（static site generator）都是一个不错的选择。无需服务器、数据库，只要你熟悉 Markdown，喜欢GitHub，使用生成器创建静态 HTML 文件，然后推送到 <a class=link href=https://pages.github.com/ target=_blank rel=noopener>GitHub Pages</a> 等免费服务即可。</p><h3 id=常见的静态网页生成器>常见的静态网页生成器</h3><ul><li>Hugo是由Go语言实现的静态网站生成器。简单、易用、高效、易扩展、快速部署。</li><li>jekyll 是一个静态网页、博客生成器</li><li>vuepress是基于 Vue 的静态网页生成器</li><li>Hexo 是一个由Nodejs驱动的快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</li></ul><blockquote><p>参考：<a class=link href=https://github.com/collections/static-site-generators target=_blank rel=noopener>静态网页生成器</a></p></blockquote><h2 id=快速使用hugo搭建个人博客站点>快速使用Hugo搭建个人博客站点</h2><h3 id=安装hugo>安装Hugo</h3><ul><li><p>根据自己的操作系统，下载已经构建好的Hugo二进制文件<a class=link href=https://github.com/gohugoio/hugo/releases/latest target=_blank rel=noopener>官方地址</a></p><ul><li>官方推荐下载扩展版，支持的功能更多</li></ul></li><li><p>解压之后，将hugo可执行文件加入到PATH环境变量中，即可使用</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo version <span class=c1># 查看版本，扩展版含这个extended标签</span>
</span></span><span class=line><span class=cl>hugo -h <span class=c1># 显示帮助信息</span>
</span></span><span class=line><span class=cl>hugo subcommand -h <span class=c1># 获取子命令的帮助信息</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><h3 id=使用hugo>使用Hugo</h3><blockquote><p>hugo需要配合git一起使用，并且官方推荐使用bash作为终端</p></blockquote><ul><li><p>创建项目并安装主题hugo-theme-stack</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo new site quickstart <span class=c1># 创建目录结构</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> quickstart
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git submodule add https://github.com/CaiJimmy/hugo-theme-stack/ themes/hugo-theme-stack <span class=c1># 安装主题</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>添加内容并使用安装主题的默认配置</p><ul><li>使用安装主题的实例进行快速添加内容<ul><li>只需要进入主题文件中的<code>exampleSite</code>中的<code>content</code>拷贝到<code>quickstart</code>根目录中</li></ul></li><li>同理，在主题文件中的<code>exampleSite</code>中的<code>hugo.yaml</code>拷贝到<code>quickstart</code>根目录中，重命名为,并删除<code>hugo.toml</code></li></ul></li><li><p>最后运行</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo server <span class=c1># 本地启动一个http服务器，便于开发和测试站点，默认热更新</span>
</span></span><span class=line><span class=cl>hugo server --navigateToChanged <span class=c1># 自动重定向：编辑内容时，浏览器会自动重定向到上次修改的页面</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>会使用到的命令</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo new content post/fist-post.md <span class=c1># 会在content目录下创建post/fist-post.md文件</span>
</span></span><span class=line><span class=cl><span class=c1># 执行完后，会在content/post目录自动生成一个MarkDown格式的first.md文件：</span>
</span></span><span class=line><span class=cl>+++
</span></span><span class=line><span class=cl><span class=nv>date</span> <span class=o>=</span> <span class=s2>&#34;2015-01-08T08:36:54-07:00&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>draft</span> <span class=o>=</span> <span class=nb>true</span>
</span></span><span class=line><span class=cl><span class=nv>title</span> <span class=o>=</span> <span class=s2>&#34;Fist Post&#34;</span>
</span></span><span class=line><span class=cl>+++
</span></span><span class=line><span class=cl><span class=c1># draft 默认为true，构建网站时不会构建该文档</span>
</span></span><span class=line><span class=cl>	<span class=c1># 要构建草稿文档可以用-D或--buildDrafts选项启动服务</span>
</span></span><span class=line><span class=cl>	hugo server -D
</span></span><span class=line><span class=cl><span class=c1># title 默认为文件名首字母大写</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>构建命令</p><ul><li><p>进入项目目录，运行</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo
</span></span></code></pre></td></tr></table></div></div></li><li><p><code>hugo</code>命令会构建生成静态文件，会将文件发布项目的<code>public</code>目录下</p></li><li><p>要将站点发布到其他目录，请使用该标志<code>--destination</code>或在站点配置中设置<code>publishDir</code></p><blockquote><p>注意：每次构建不会清空public目录，只会覆盖旧内容。</p><p>这样做是为了防止，构建之后在public添加的文件被删除</p></blockquote></li></ul></li><li><p>草稿、未来和过期内容</p><ul><li><p>Hugo 允许在内容的前面设置<code>draft</code>、<code>date</code>、<code>publishDate</code>和<code>expiryDate</code>。默认情况下，Hugo 在以下情况下不会发布内容：</p><ul><li><p>其<code>draft</code>值为<code>true</code></p></li><li><p>是<code>date</code>在未来</p></li><li><p>是<code>publishDate</code>在未来</p></li><li><p>已经<code>expiryDate</code>过去了</p></li><li><p>下面的行为可以取消</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo --buildDrafts    <span class=c1># or -D</span>
</span></span><span class=line><span class=cl>hugo --buildExpired   <span class=c1># or -E</span>
</span></span><span class=line><span class=cl>hugo --buildFuture    <span class=c1># or -F</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>注意：当这样构建之后，需要手动删除不期望构建的文件，在推送站点</p><p>否则当推送到远程会出现<strong>意外</strong>的内容</p><p>所以建议运行上面的命令之后，前提public中没有手动添加的文件，在构建之前手动清空<code>public</code>目录，防止出现草稿、过期和未来的内容</p></blockquote></li></ul></li></ul></li><li><p>最后将public中的所以文件推送到静态网站托管平台即可</p><ul><li>也可以使用自动构建和部署</li></ul></li></ul><blockquote><p>更多内容参考：</p><ol><li><a class=link href=https://www.gohugo.org/post/coderzh-hugo/ target=_blank rel=noopener>使用hugo搭建个人博客站点</a></li><li><a class=link href=https://blog.linsnow.cn/p/join-hugo-and-stack/ target=_blank rel=noopener>（1）带着Stack主题入坑Hugo</a></li><li><a class=link href=https://blog.linsnow.cn/p/deploy-hugo/ target=_blank rel=noopener>（2）部署你的Hugo博客</a></li><li><a class=link href=https://blog.linsnow.cn/p/modify-hugo/ target=_blank rel=noopener>（3）Stack主题的自定义</a><ol><li>自定义主题添加了<code>assets/scss</code>、<code>layouts/_default/</code>、<code>layouts/index.html</code>,不用了删了就行</li></ol></li></ol></blockquote><h3 id=目录结构>目录结构</h3><ul><li><p><code>archetypes</code>目录包含新内容的模板</p><ul><li><p>目录下的<code>default.md</code>由标记（markdown）和内容格式</p><ul><li><p>内容格式：&mdash;yaml&mdash;、+++toml+++、{json}</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>--- <span class=c1># +++/{</span>
</span></span><span class=line><span class=cl>date: <span class=s1>&#39;{{ .Date }}&#39;</span> <span class=c1># yaml</span>
</span></span><span class=line><span class=cl>draft: <span class=nb>true</span>
</span></span><span class=line><span class=cl>title: <span class=s1>&#39;{{ replace .File.ContentBaseName `-` ` ` | title }}&#39;</span>
</span></span><span class=line><span class=cl>--- <span class=c1># +++/{</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p>当运行<code>hugo new content post/my-first-post.md</code>命令时会根据<code>default.md</code>创建内容文件</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>---
</span></span><span class=line><span class=cl>date: <span class=s2>&#34;2023-08-24T11:49:46-07:00&#34;</span>
</span></span><span class=line><span class=cl>draft: <span class=nb>true</span>
</span></span><span class=line><span class=cl>title: My First Post
</span></span><span class=line><span class=cl>---
</span></span></code></pre></td></tr></table></div></div></li><li><p>可以创建新内容的模版</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>archetypes/
</span></span><span class=line><span class=cl>├── default.md
</span></span><span class=line><span class=cl>└── post.md
</span></span></code></pre></td></tr></table></div></div><ul><li>若运行<code>hugo new content post/my-first-post.md</code>查找模版的顺序<ul><li>archetypes/post.md</li><li>archetypes/default.md</li><li>themes/my-theme/archetypes/post.md</li><li>themes/my-theme/archetypes/default.md</li><li>如果这些都不存在，Hugo 将使用内置的默认原型</li></ul></li></ul></li></ul></li><li><p><code>assets</code>目录包含通常通过资产管道传递的全局资源，包括图像、CSS、Sass、JavaScript 和 TypeScript 等资源。</p></li><li><p><code>config</code>目录包含站点配置，可能分为多个子目录和文件。对于具有最少配置的项目或不需要在不同环境中表现不同的项目，<code>hugo.toml</code>在项目根目录中命名的单个配置文件就足够了</p></li><li><p><code>content</code>目录包含构成站点内容的标记文件（通常是 Markdown）和页面资源。</p><ul><li>对应<code>stack</code>主题：<ul><li><code>post</code><strong>存放发布的文章格式md</strong></li><li><code>page</code><strong>存放导航区域的md格式配置</strong><ul><li>不同的语言结尾用.en.md等表示</li><li>根据模版进行修改即可，根据自己的需求，没有的<strong>需要自己补充和修改文件内容</strong></li></ul></li><li><code>categories</code><strong>存放类别的md格式配置</strong></li></ul></li></ul></li><li><p><code>data</code>目录包含增强内容、配置、本地化和导航的数据文件（JSON、TOML、YAML 或 XML）。</p></li><li><p><code>i18n</code>目录包含多语言站点的翻译表。</p></li><li><p><code>content</code>目录包含将内容、数据和资源转换为完整网站的模板。</p></li><li><p><code>public</code>目录包含运行<code>hugo</code>或<code>hugo server</code>命令时生成的已发布网站。 Hugo 根据需要重新创建该目录及其内容</p></li><li><p><code>resources</code>目录包含 Hugo 资产管道的缓存输出，这些输出是在运行<code>hugo</code>或<code>hugo server</code>命令时生成的。默认情况下，此缓存目录包括 CSS 和图像。 Hugo 根据需要重新创建该目录及其内容。</p></li><li><p><code>static</code>目录包含在您构建站点时将复制到公共目录的文件。例如：<code>favicon.ico</code>、<code>robots.txt</code>和 验证站点所有权的文件.与assets差不多</p></li><li><p><code>themes</code>目录包含一个或多个<a class=link href=https://gohugo.io/getting-started/glossary/#theme target=_blank rel=noopener>主题</a>，每个主题都位于其自己的子目录中。</p></li><li><p>联合文件系统：</p><ul><li>这样理解：安装的主题里面同样有自己站点的目录结构，hugo构建时会将主题里面的文件挂载到站点，优先级是<strong>站点的高</strong></li></ul></li></ul><h3 id=配置文件>配置文件</h3><ul><li><p>hugo支持三种配置文件<code>hugo.tomal</code>、<code>hugo.yaml</code>、<code>hugo.json</code>，喜欢用那个就用那个。</p><blockquote><p>每种文件格式的规范：<a class=link href=https://toml.io/en/latest target=_blank rel=noopener>TOML</a>、<a class=link href=https://yaml.org/spec/ target=_blank rel=noopener>YAML</a>和<a class=link href=https://datatracker.ietf.org/doc/html/rfc7159 target=_blank rel=noopener>JSON</a>。</p></blockquote></li><li><p>配置文件可以有多个，可以放到config目录下，默认都是使用hugo开头的文件</p></li><li><p>指定配置文件构建</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo server --config other.toml 
</span></span><span class=line><span class=cl>hugo --config a.toml,b.yaml,c.json <span class=c1># 可以指定多个，左边的优先级高</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>更多内容<a class=link href=https://gohugo.io/getting-started/configuration/ target=_blank rel=noopener>配置参考</a></p></blockquote></li><li><p>额外的一些关于配置文件的总结</p><ul><li>默认语言修改为zh-cn，意味着<code>index.md</code>表示中文，<code>index.zh-cn.md</code>也表示中文，此时的英文要用<code>index.en.md</code>表示</li></ul></li></ul><blockquote><p>更多内容参考：</p><ol><li><a class=link href=https://gohugo.io/documentation/ target=_blank rel=noopener>Hugo官方文档</a></li><li><a class=link href=https://www.gohugo.org/ target=_blank rel=noopener>Hugo中文文档</a></li><li><a class=link href=https://themes.gohugo.io/ target=_blank rel=noopener>Hugo theme</a></li></ol></blockquote><h3 id=文章评论>文章评论</h3><p>使用<a class=link href=https://waline.js.org/guide/get-started/ target=_blank rel=noopener>Waline</a>，其教程很完整。</p><p>根据Waline教程从头完成到使用<a class=link href="https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fwalinejs%2Fwaline%2Ftree%2Fmain%2Fexample" target=_blank rel=noopener>Vercel</a>部署完成。</p><p>最后在<code>config.yaml</code>中的waline的serverURL给上你的Vercel服务器地址。</p><p>以及开启评论，最后waline还可以配置评论通知渠道。</p><ul><li>将cloudflare解析的域名绑定到vercel<a class=link href=https://vercel.com/docs/integrations/external-platforms/cloudflare target=_blank rel=noopener>文档</a><ul><li>概括：添加一条CNAME记录值为cname.vercel-dns.com，开启代理，将SSL/TLS修改为完全</li></ul></li><li>将cloudflare解析的域名绑定到github-pages<a class=link href=https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site target=_blank rel=noopener>文档</a><ul><li>概括：添加一条子域，类型CNAME记录值为username.github.io，开启代理，将SSL/TLS修改为完全,username为你的用户名</li></ul></li><li>更多内容请查阅文档</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>comments</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>provider</span><span class=p>:</span><span class=w> </span><span class=l>waline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nt>waline</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>serverURL</span><span class=p>:</span><span class=w> </span><span class=l>url</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>lang</span><span class=p>:</span><span class=w> </span><span class=l>zh-cn</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>pageview</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>copyright</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>emoji</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span>- <span class=l>https://unpkg.com/@waline/emojis@1.0.1/weibo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>requiredMeta</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span>- <span class=l>name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span>- <span class=l>email</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>locale</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>admin</span><span class=p>:</span><span class=w> </span><span class=l>👻Hi!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>placeholder</span><span class=p>:</span><span class=w> </span><span class=l>🎉留下你的脚印...</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=搜索引擎优化seo>搜索引擎优化（SEO）</h3><p>本网站使用Hugo搭建，而且使用的stack主题支持自动生成基于Open Graph协议（OG协议）的标签，此处记录一下如何在Hugo搭建的网站中做搜索引擎优化（SEO）。</p><p>目的：提升网站在搜索引擎中的排名</p><p>Open Graph（开放图谱）协议，简称OG协议，是Facebook在2010年公布的一项协议，用来标记网页内容。简单来讲，OG协议就是嵌在网页头部的一些标签，这些标签标记了网页的标题、描述等特征，使得网页成为一个“富媒体对象”，可以被其他社交网站引用。</p><p>很多搜索引擎都支持OG协议，在网页中使用OG协议的标签，就更有利于提升我们的网页在搜索引擎中的排名。</p><p>OG协议的标签在网页中通常表示为类似下面所示的格式：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>meta</span> <span class=na>property</span><span class=o>=</span><span class=s>&#34;og:title&#34;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#34;The Rock&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>meta</span> <span class=na>property</span><span class=o>=</span><span class=s>&#34;og:type&#34;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#34;video.movie&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>meta</span> <span class=na>property</span><span class=o>=</span><span class=s>&#34;og:url&#34;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#34;https://www.imdb.com/title/tt0117500/&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>meta</span> <span class=na>property</span><span class=o>=</span><span class=s>&#34;og:image&#34;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#34;https://ia.media-imdb.com/images/rock.jpg&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>meta</span> <span class=na>property</span><span class=o>=</span><span class=s>&#39;og:url&#39;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#39;https://arlettebrook.github.io/search/&#39;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl> <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>property</span><span class=o>=</span><span class=s>&#39;og:site_name&#39;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#39;Arlettebrook&amp;#39;s blog&#39;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl> <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>property</span><span class=o>=</span><span class=s>&#39;og:type&#39;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#39;article&#39;</span><span class=p>&gt;&lt;</span><span class=nt>meta</span> <span class=na>property</span><span class=o>=</span><span class=s>&#39;article:section&#39;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#39;P
</span></span></span><span class=line><span class=cl><span class=s>age&#39;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>-<span class=p>&lt;</span><span class=nt>meta</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;twitter:title&#34;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#34;搜索&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>+<span class=p>&lt;</span><span class=nt>meta</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;twitter:site&#34;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#34;@arlettebrook&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>+    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;twitter:creator&#34;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#34;@arlettebrook&#34;</span><span class=p>&gt;&lt;</span><span class=nt>meta</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;twitter:title&#34;</span> <span class=na>co</span>
</span></span><span class=line><span class=cl><span class=na>ntent</span><span class=o>=</span><span class=s>&#34;搜索&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl> <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;twitter:description&#34;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#34;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&#34;alternate&#34;</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;application/js
</span></span></span><span class=line><span class=cl><span class=s>on&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;https://arlettebrook.github.io/search/index.json&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>     <span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&#34;shortcut icon&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;/img/favicon.ico&#34;</span> <span class=p>/&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>stack主题提供了对OG协议的支持，只需要在网站根目录下的<code>config/_default/params.en.yaml</code>和<code>config/_default/params.zh-cn.yaml</code>配置文件中开启即可：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>opengraph</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>twitter</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># Your Twitter username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>site</span><span class=p>:</span><span class=w> </span><span class=l>arlettebrook</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c># Available values: summary, summary_large_image</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>card</span><span class=p>:</span><span class=w> </span><span class=l>summary_large_image</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>这样，Hugo在生成和部署网站时就会在网页HTML文件中自动嵌入OG标签。</p><h4 id=谷歌搜索优化>谷歌搜索优化</h4><p>在将我们的站点信息提交给谷歌时，谷歌需要验证我们对网站的所有权。验证方式有好几种，例如</p><ul><li>在网站根目录下放一个谷歌生成的验证文件</li><li>在网页HTML文件头部嵌入谷歌生成的特定标签</li><li>使用谷歌分析的Tracking ID（或者Measurement ID）</li></ul><p>由于stack主题集成了对谷歌分析的支持，这里我们使用第三种验证方式。</p><h5 id=开启谷歌分析>开启谷歌分析</h5><p><a class=link href=https://analytics.google.com/analytics/web/provision/#/provision target=_blank rel=noopener>谷歌分析</a>（Google Analytics）是一个分析网站流量的工具，用它可以统计网站的访问量等信息。</p><ol><li><p>首先前往谷歌分析官网注册谷歌分析的账号，也可以直接用已有的谷歌账号登录。现在的谷歌分析一般是谷歌分析4（Google Analytics 4），使用Measurement ID而非之前的Tracking ID来跟踪网站。</p><p>参考：<a class=link href=https://www.yundianseo.com/how-to-use-google-analytics/ target=_blank rel=noopener>谷歌分析（Google Analytics）最新使用教程</a></p></li><li><p>获取Measurement ID。具体可参见谷歌分析的<a class=link href=https://support.google.com/analytics/answer/9539598 target=_blank rel=noopener>帮助文档</a>。下面是具体操作：</p><ul><li>在用户首页找到“Admin“选项，新建一个“Property”，按照说明填入必要的信息。</li><li>然后点击“Property”这一列中的“Data Streams”选项。</li><li>点击“Add stream”，选择“Web”，填入你的网站域名和网站名字。</li><li>再在“Property”页面点击刚添加的stream，就能看到一个以“G-”开头的Measurement ID。记录下你的网站的Measurement ID。</li></ul></li><li><p>在网站根目录下的<code>config/_default/config.yaml</code>配置文件中找到“googleAnalytics"配置项，填入你的Measurement ID。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=err>#</span> <span class=nx>GA</span> <span class=nx>Tracking</span> <span class=nx>ID</span>
</span></span><span class=line><span class=cl><span class=nx>googleAnalytics</span><span class=p>:</span> <span class=nx>G</span><span class=o>-</span><span class=nx>measuremntID</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h5 id=提交站点地图>提交站点地图</h5><p>站点地图（Site Map）是一个存储有站点网页信息的XML数据文件，通常命名为<code>sitemap.xml</code>，将它提交给搜索引擎，搜索引擎将可以获取我们网站的网页信息。</p><p>Hugo会在生成和部署网站时在<code>public</code>文件夹下自动生成<code>sitemap.xml</code>文件。</p><p>我们把站点地图提交到谷歌搜索，具体说明可参见谷歌站长页面的<a class=link href=https://developers.google.com/search/docs/beginner/get-started target=_blank rel=noopener>说明</a>，下面是具体操作：</p><ol><li><p>登录谷歌搜索控制台（Google Search Console）https://search.google.com/search-console，可以使用在谷歌分析注册的账号。</p></li><li><p>点击左上角的“Add property”，选择右侧的“URL prefix”方式，输入以https开头的网站网址。在验证所有权的选项中选择“Google Analytics”，点击验证。如果你在上一步开启谷歌分析后使用Hugo重新部署了网站的话，就可以直接验证通过。</p></li><li><p>提交站点地图文件<code>sitemap.xml</code>。在左侧菜单栏点击“Sitemaps”选项，然后在添加站点地图的页面填入<code>sitemap.xml</code>所在的URL。例如对于本站，由于是双语站点，Hugo在部署网站时会生成3个<code>sitemap.xml</code>文件，分别是<code>/public/sitemap.xml</code>、<code>/public/zh-cn/sitemap.xml</code>以及<code>/public/en/sitemap.xml</code>。</p><p>注意，添加sitemap时不要漏了路径开头的斜杠<code>/</code>，即使网站域名后面已经有一个斜杠了，也不能省略。</p></li><li><p>提交成功之后“status”会显示“success”。</p><p>Hugo生成的3个站点地图中，<code>/public/sitemap.xml</code>中的内容其实是指向<code>/public/zh-cn/sitemap.xml</code>和<code>/public/en/sitemap.xml</code>的，所以我们只提交一个<code>/public/sitemap.xml</code>就可以。</p></li></ol><p>一般在站点地图成功提交之后大约1到2天后，就可以看到自己的网站已经被谷歌收录了。可以在谷歌搜索框中输入<code>site:xxx.com</code>来查看某个网站是否被谷歌搜索收录。</p><h4 id=百度搜索优化>百度搜索优化</h4><p>针对百度搜索的优化是在<a class=link href=https://ziyuan.baidu.com/ target=_blank rel=noopener>百度资源搜索平台</a>上完成的。</p><ol><li><p>前往<a class=link href=https://ziyuan.baidu.com/ target=_blank rel=noopener>百度资源搜索平台</a>，登录百度账号。</p></li><li><p>点击“链接提交”，然后点击"添加站点"。输入你的网站域名，同样需要验证站点的所有权，这里选择下载验证文件，然后把验证文件放在网站<code>static</code>文件夹内，在上传到Github。最后点击“验证”即可。</p></li><li><p>然后点击左侧菜单栏“资源提交”中的“普通收录”，在资源提交的页面下选择“sitemap”，输入<code>sitemap.xml</code>所在的URL就可以了。</p><p>不过在百度提交sitemap有两个限制：</p><ul><li>不允许提交索引型sitemap</li><li>对新账号每天只允许提交一个sitemap文件</li></ul></li></ol><h4 id=其他平台收录>其他平台收录</h4><p>其他平台收录就不仔细讲解了，提供一下链接供大家参考。都差不多一样的验证方式。</p><ol><li><p>搜狗收录</p><p>搜狗收录不支持站点地图提交，需要你列出所有的url批量提交，每次提交20条，所以没有其他平台那么智能。每次新加新的网页还需要自己主动提交。</p><p><a class=link href=https://zhanzhang.sogou.com/index.php/sitelink/index target=_blank rel=noopener>搜狗搜索资源平台</a></p></li><li><p>Bing收录</p><p><a class=link href=https://www.bing.com/webmasters/home target=_blank rel=noopener>Microsoft Bing Webmaster Tools</a></p></li><li><p>360提交入口： <a class=link href=https://info.so.com/site_submit.html target=_blank rel=noopener>https://info.so.com/site_submit.html</a></p></li><li><p>Backdata 搜索引擎网址提交入口： <a class=link href=https://backdata.net/submit-site.html target=_blank rel=noopener>https://backdata.net/submit-site.html</a></p></li></ol><blockquote><p>参考：</p><ol><li><a class=link href=https://jinli.io/p/%e4%b8%aa%e4%ba%ba%e7%bd%91%e7%ab%99%e7%9a%84%e5%bb%ba%e7%ab%8b%e8%bf%87%e7%a8%8b%e5%9b%9b%e7%bd%91%e7%ab%99%e7%9a%84%e6%90%9c%e7%b4%a2%e5%bc%95%e6%93%8e%e4%bc%98%e5%8c%96seo/ target=_blank rel=noopener>个人网站的建立过程（四）：网站的搜索引擎优化（SEO）</a></li><li><a class=link href=https://zhuanlan.zhihu.com/p/597182079 target=_blank rel=noopener>从零开始搭建个人博客网站系列 五、让搜索引擎收录你的个人博客网站</a></li></ol></blockquote><h2 id=额外的一些知识>额外的一些知识</h2><ul><li><p><code>gh-pages</code> 是GitHub 所提供的一个服务，简单来讲就是可以让你不用花钱也可以部署一个静态网页作为展示用，因此对于前端工程师来讲就非常方便而且很实用，但是部署方式有很多。</p></li><li><p><code>gh-pages</code>是<code>github-pages</code>的缩写，可以用于个人博客和项目介绍的网站服务。</p></li><li><p><code>gh-pages</code>也是github特殊的分支，用来存放网站相关的一些资源，通常网站地址为<code>username.github.io/仓库名</code></p></li><li><p>项目名与<code>username.github.io</code>一样的话，可以省略仓库名，跟github个人资料页面一样，所以这个仓库是一个特殊的仓库，默认会自动开启gh-pages服务。别的需要手动。</p></li></ul><p>虽然gh-pages 是属于免费的服务，基本上只要你持有GitHub 帐号就可以使用，但是它基本上有几个重点可以稍微注意一下：</p><ul><li>只能放置纯静态网页，也就是说没有后端的网页，例如PHP、Node.js、Python 等等，只能是纯HTML、CSS、JavaScript 等等，因为它并没有运算能力。</li><li>gh-pages 是以储存库为单位，也就是说每个储存库都可以有一个gh-pages 分支，但是每个储存库只能有一个gh-pages 分支，因此如果你想要部署多个网页，那么你就需要建立多个储存库。</li><li>gh-pages 的容量是有限制的，每个储存库的容量是1GB，如果你的网页超过这个容量，那么就无法部署。</li><li>gh-pages 的流量为每月100GB</li><li>gh-pages 每小时只能部署10 次，如果是使用自己写的GitHub Actions 就没有这个限制（毕竟要花钱）。</li><li>免费的ssh 凭证</li><li>预设的网域是<code>https://&lt;username>.github.io/&lt;repository></code>，如果你想要使用自己的网域，那么你就需要花钱购买网域，并且设定DNS</li></ul><p>最后要稍微注意一下gh-pages 虽然是免费提供的静态网页托管服务，但是它并不能拿来作为商业用途或是违法用途，否则你的帐号可能会被封锁</p><p>简单说一下如何查看一个仓库是否启用<code>gh-pages</code>：进入项目settings-pages查看即可，有绿色钩就启动成功，没有需要指定分支和根目录，保存，稍等一会就行。</p><h3 id=用gh-pages分支展示自己的项目>用gh-pages分支展示自己的项目</h3><p>我们只需要将网页资源上传至gh-pages分支即可</p><p>搭建项目网站：将项目网站资源推送到gh-pages分支上,静态资源必须提交了才会成功</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git subtree push --prefix<span class=o>=</span>dist origin gh-pages <span class=c1># dist为项目网站的目录</span>
</span></span></code></pre></td></tr></table></div></div><p>拉取指定分支</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git fetch origin <span class=c1># 获取origin仓库的信息</span>
</span></span><span class=line><span class=cl>git checkout -b aaa origin/aaa <span class=c1># 创建并检出分支</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># git clone之后也也可以检出分支</span>
</span></span><span class=line><span class=cl>git checkout gh-page  <span class=c1># 失败用上面办法</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 在git clone 的时候可以指定分支-b选项</span>
</span></span><span class=line><span class=cl>git clone -b url
</span></span></code></pre></td></tr></table></div></div><p>如果要项目中不含自己网站的源码，可以忽略public目录，将public目录创建为一个私有仓库的子目录，然后将子目录作为，项目的gh-pages分支。</p><h3 id=通过github-actions自动部署gh-pages>通过GitHub Actions自动部署gh-pages</h3><blockquote><p>简单介绍一下GitHub Actions:</p><ol><li>GitHub Actions是一个自动化工具。</li><li>可以实现自动化构建、测试、和部署项目。</li><li>定义自动化过程是通过编写<code>workflows</code>（工作流）实现的，格式是<code>yaml</code>。</li></ol></blockquote><ol><li><p>推送部署的github-pages需要git账户认证，方式是SSH秘钥认证。</p></li><li><p>所以需要设置ssh秘钥。</p><ol><li><p>生成秘钥：在bash中运行<code>ssh-keygen</code>,秘钥类型默认为<code>rsa</code>。可以给这个秘钥设置备注加<code>-C</code>选项，参数一般为拥有者邮箱，一直回车就行。秘钥保存位置：默认用户主目录下的<code>.ssh</code>。公钥就是<code>id_rsa.pub</code></p><ol><li>建议将生成的这个秘钥对与<strong>本机认证</strong>的ssh秘钥对分开，保存到另外的一个地方。回车的时候修改位置就行。</li></ol></li><li><p>设置公钥：</p><ol><li>github账户<code>Settings</code>-><code>SSH and GPG keys</code>-><code>New SSH key</code>将公钥复制粘贴保存就行。这种方式，只有有私钥，就能操作所有仓库，不推荐使用。</li><li>(自动构建之后)<strong>选择</strong>要推送的仓库<code>Settings</code>-><code>Deploy keys</code>-><code>Add deploy key</code>将公钥复制粘贴保存就行。title随意。注意勾选<strong>Allow write access</strong>。只针对该仓库有权限。推荐使用。</li></ol></li><li><p>设置私钥：</p><ol><li>进入Actions所在的仓库<code>Settings</code>-><code>Secrets and variables</code>-><code>Actions</code>-><code>New repository secret</code>。秘钥名称为<code>ACTIONS_DEPLOY_KEY</code>，值为私钥<code>id_rsa</code>的文件内容。最后保存就行。</li></ol></li></ol></li><li><p>添加workflows配置文件</p><ol><li><p>在构建仓库的根目录下创建<code>.github/workflows</code>目录，然后创建<code>auto-deploy-gh-pages.yaml</code>文件，内容如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy github pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>main</span><span class=w> </span><span class=c># main 更新触发</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># Allows you to run this workflow manually from the Actions tab</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>workflow_dispatch</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>auto-deploy-github-pages</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout code</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># clone submodules</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w> </span><span class=c># 克隆所有历史信息</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0.125.4&#34;</span><span class=w> </span><span class=c># Hugo 版本</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>extended</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># hugo插件版 Stack主题 必须启用</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Cache resources</span><span class=w> </span><span class=c># 缓存 resource 文件加快生成速度</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/cache@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>resources</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=c># 检查照片文件变化</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=l>${{ runner.os }}-hugocache-${{ hashFiles(&#39;content/**/*&#39;) }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>restore-keys</span><span class=p>:</span><span class=w> </span><span class=l>${{ runner.os }}-hugocache-</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build</span><span class=w> </span><span class=c># 生成网页 删除无用 resource 文件 削减空行</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo --minify --gc</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy</span><span class=w> </span><span class=c># 部署到 GitHub Page</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=c># 如果在同一个仓库下使用请使用 github_token 并注释 deploy_key</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=c># github_token: ${{ secrets.GITHUB_TOKEN }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>deploy_key</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.ACTIONS_DEPLOY_KEY }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=c># 如果在同一个仓库请注释</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>external_repository</span><span class=p>:</span><span class=w> </span><span class=l>arlettebrook/arlettebrook.github.io</span><span class=w> </span><span class=c># 你的 GitHub page 仓库 example/example.github.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>publish_branch</span><span class=p>:</span><span class=w> </span><span class=l>main</span><span class=w> </span><span class=c># 默认gh-pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=c># cname: blog.trojan123.top # 自定义域名</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>publish_dir</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>user_name</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;github-actions[bot]&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>user_email</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;github-actions[bot]@users.noreply.github.com&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=c># full_commit_message: ${{ github.event.head_commit.message }} # 不带提交哈希</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=c># full_commit_message: Deploy from ${{ github.repository }}@${{ github.sha }} 🚀</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>commit_message</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.event.head_commit.message }}🚀</span><span class=w> </span><span class=c># 带提交哈希</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=c># full_commit_message: Deploy from ${{ github.repository }}@${{ github.sha }}🚀 ${{ github.event.head_commit.message }}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>注意</strong>你要将<code>external_repository</code>项里的<code>arlettebrook/arlettebrook.github.io</code>改为你要推送的仓库。<code>cname</code>为你绑定的自定义域名。</p></li></ol></li><li><p>忽略不必要的文件</p><ol><li><p>在构建项目根目录下创建<code>.gitignore</code>文件，内容如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>public
</span></span><span class=line><span class=cl>resources
</span></span><span class=line><span class=cl>assets/jsconfig.json
</span></span><span class=line><span class=cl>.hugo_build.lock
</span></span></code></pre></td></tr></table></div></div></li></ol></li><li><p>最后将构建项目推送到远程就行，这样每次推送构建项目的main分支到远程，就会自动构建并推送到指定仓库。</p></li><li><p>查看是否构建成功：进入构建项目的Actions选项里面即可查看。</p></li></ol><blockquote><p>参考：<a class=link href=https://blog.linsnow.cn/p/deploy-hugo/ target=_blank rel=noopener>（2）部署你的Hugo博客</a></p></blockquote></section><footer class=article-footer><section class=article-tags><a href=/tags/github-pages/>Github Pages</a>
<a href=/tags/hugo/>Hugo</a>
<a href=/tags/github/>Github</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>最后更新于 May 18, 2024 19:04 +0800</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/go-figure-introduction/><div class=article-details><h2 class=article-title>Go-figure Introduction</h2></div></a></article><article><a href=/p/batch-del-cf-dns-record/><div class=article-details><h2 class=article-title>Batch Del CF DNS Record</h2></div></a></article><article><a href=/p/template-introduction/><div class=article-details><h2 class=article-title>Template Introduction</h2></div></a></article><article><a href=/p/openapi-and-swagger-introduction/><div class=article-details><h2 class=article-title>Openapi And Swagger Introduction</h2></div></a></article><article><a href=/p/gin-introduction/><div class=article-details><h2 class=article-title>Gin Introduction</h2></div></a></article></div></div></aside><script src=//unpkg.com/@waline/client@v2/dist/waline.js></script><link href=//unpkg.com/@waline/client@v2/dist/waline.css rel=stylesheet><div id=waline class=waline-container></div><style>.waline-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding);--waline-font-size:var(--article-font-size)}.waline-container .wl-count{color:var(--card-text-color-main)}</style><script>Waline.init({comment:!0,copyright:!1,dark:'html[data-scheme="dark"]',el:"#waline",emoji:["https://unpkg.com/@waline/emojis@1.0.1/weibo"],lang:"zh-cn",locale:{admin:"👻Hi",placeholder:"🎉留下你的脚印..."},pageview:!0,reaction:!0,requiredMeta:["nick"],serverURL:"https://waline.nek.dpdns.org/"})</script><footer class=site-footer><section class=copyright>Copyright &copy;
2020 -
2025 <b><a href=https://github.com/arlettebrook target=_blank rel=noopener>@Arlettebrook</a></b></section><section class=powerby>博客内容遵循<b><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode.zh-hans target=_blank rel=noopener> 知识共享 署名-非商业性-相同方式共享4.0国际协议</a></b><br>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.25.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>