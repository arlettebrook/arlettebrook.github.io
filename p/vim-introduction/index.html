<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="本文介绍vim的安装、配置以及插件使用。"><title>Vim Introduction</title>
<link rel=canonical href=https://arlettebrook.github.io/p/vim-introduction/><link rel=stylesheet href=/scss/style.min.505938c6c688784167a9f82747dd1fc8c9c6c9e2137f29599d0e43e8740344b5.css><meta property='og:title' content="Vim Introduction"><meta property='og:description' content="本文介绍vim的安装、配置以及插件使用。"><meta property='og:url' content='https://arlettebrook.github.io/p/vim-introduction/'><meta property='og:site_name' content="Arlettebrook's blog"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='vim'><meta property='article:published_time' content='2024-05-30T21:52:12+08:00'><meta property='article:modified_time' content='2024-06-02T21:52:12+08:00'><meta name=twitter:site content="@arlettebrook"><meta name=twitter:creator content="@arlettebrook"><meta name=twitter:title content="Vim Introduction"><meta name=twitter:description content="本文介绍vim的安装、配置以及插件使用。"><link rel="shortcut icon" href=/img/favicon.ico><script async src="https://www.googletagmanager.com/gtag/js?id=G-9MKLLVPEER"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-9MKLLVPEER")}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><div id=article-toolbar style=position:sticky;top:5px;z-index:1000><a href=/ class=back-home><svg class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg>
<span>返回</span></a></div><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#安装vim>安装vim</a><ol><li><a href=#在-linux-上安装-vim>在 Linux 上安装 Vim</a></li><li><a href=#在-macos-上安装-vim>在 macOS 上安装 Vim</a></li><li><a href=#在-windows-上安装-vim><strong>在 Windows 上安装 Vim</strong></a></li><li><a href=#通用方法编译安装-vim>通用方法：编译安装 Vim</a></li><li><a href=#在ide中安装vim插件>在IDE中安装vim插件</a></li></ol></li><li><a href=#配置vim>配置vim</a><ol><li><a href=#配置文件介绍>配置文件介绍</a></li><li><a href=#常见的-vim-配置项>常见的 Vim 配置项</a></li></ol></li><li><a href=#插件使用>插件使用</a><ol><li><a href=#安装-vim-plug>安装 <code>vim-plug</code></a></li><li><a href=#插件推荐>插件推荐</a></li><li><a href=#配置插件>配置插件</a></li></ol></li><li><a href=#效果展示><strong>效果展示</strong></a></li><li><a href=#扩展>扩展</a><ol><li><a href=#自定义快捷键>自定义快捷键</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/linux/ style=background-color:#4636fc;color:#fff>Linux
</a><a href=/categories/%E6%8A%80%E6%9C%AF/ style=background-color:#c73659;color:#fff>技术</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/vim-introduction/>Vim Introduction</a></h2><h3 class=article-subtitle>本文介绍vim的安装、配置以及插件使用。</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>May 30, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 14 分钟</time></div></footer></div></header><section class=article-content><hr><h2 id=安装vim>安装vim</h2><p><a class=link href=https://github.com/vim/vim target=_blank rel=noopener>Vim</a> （<a class=link href=https://www.vim.org/ target=_blank rel=noopener>官网</a>） 是一个非常流行的文本编辑器，可以在多种操作系统上安装和使用。下面是如何在不同系统上安装 Vim 的方法：</p><h3 id=在-linux-上安装-vim>在 Linux 上安装 Vim</h3><p>大多数 Linux 发行版都在其软件包管理器中包含 Vim。可以使用包管理器来安装它。</p><ol><li><p><strong>Debian/Ubuntu 系列</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install vim
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>CentOS</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>sudo yum install vim
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=在-macos-上安装-vim>在 macOS 上安装 Vim</h3><p>macOS 通常预装了 Vim，但可能不是最新版本。你可以使用 Homebrew 来安装或更新 Vim。</p><p>使用 Homebrew 安装</p><ul><li><p>确保 Homebrew 已安装。你可以在终端中运行以下命令来安装 Homebrew：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>/bin/bash -c <span class=s2>&#34;</span><span class=k>$(</span>curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span class=k>)</span><span class=s2>&#34;</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>使用 Homebrew 安装 Vim：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>brew update
</span></span><span class=line><span class=cl>brew install vim
</span></span></code></pre></td></tr></table></div></div></li></ul><h3 id=在-windows-上安装-vim><strong>在 Windows 上安装 Vim</strong></h3><p>在 Windows 上，你可以通过以下方法安装 Vim：</p><p><strong>直接下载安装程序</strong>:</p><ol><li><p>访问 <a class=link href=https://www.vim.org/download.php target=_blank rel=noopener>Vim 官方下载页面</a>。推荐<a class=link href=https://github.com/vim/vim-win32-installer/releases/latest target=_blank rel=noopener>vim-win32-installer</a>（会及时提供最新编译版）。</p></li><li><p>在 &ldquo;PC: MS-DOS and MS-Windows&rdquo; 部分，下载适用于 Windows 的安装程序（通常是 <code>gvim</code> 安装程序）。</p></li><li><p>运行下载的安装程序，按照提示完成安装。</p></li><li><p>安装完成之后建议添加如下两个环境变量。</p><ol><li><p>Path环境变量：添加的值为vim安装路径里面的具体版本。如：</p><ul><li><p><code>D:\Vim\vim91</code> or <code>%VIM%\vim91</code></p><p><img src=/p/vim-introduction/index.assets/image-20240531122127080.png width=930 height=375 srcset="/p/vim-introduction/index.assets/image-20240531122127080_hu13628958782910189142.png 480w, /p/vim-introduction/index.assets/image-20240531122127080_hu16891586107496715342.png 1024w" loading=lazy alt=image-20240531122127080 class=gallery-image data-flex-grow=248 data-flex-basis=595px></p></li></ul></li><li><p>环境变量VIM：值为vim的安装路径。如</p><p><img src=/p/vim-introduction/index.assets/image-20240531122015284.png width=930 height=375 srcset="/p/vim-introduction/index.assets/image-20240531122015284_hu693908631716270676.png 480w, /p/vim-introduction/index.assets/image-20240531122015284_hu17656161710514376185.png 1024w" loading=lazy alt=image-20240531122015284 class=gallery-image data-flex-grow=248 data-flex-basis=595px></p></li></ol></li><li><p>Windows版本的vim提供了卸载程序。在程序和功能中找到即可卸载。</p></li></ol><p>Windows安装结束后，你会发现开始菜单中有好多Vim，而且名字都不一样。</p><p>他们的区别如下：</p><ol><li>有g和没有g
gVim 是在windows下的Gui图形用户界面的的 vim (GUI Vim)，支持windows的一些快捷方式，支持鼠标操作
vim 是在windows下的类似linux vi 编辑的界面，只能用键盘操作。
vim的操作指令同时适用于gVim</li><li>Vim, Vim Diff, Vim Easy, Vim Read-only
Diff 是用来对比两个文件内容用的，直接打开挺没用的，不过直接拖2个文件到快捷方式上倒是可行；
Easy启动的时候是insert模式，适合普通windows用户的习惯；
Read-Only的用途：比如用read-only打开已经用vim打开过的文件，就不会提示让人烦躁的.swp文件存在的问题；</li></ol><h3 id=通用方法编译安装-vim>通用方法：编译安装 Vim</h3><p>如果你希望安装最新版本的 Vim 或自定义编译选项，可以从源代码编译安装。</p><ol><li><p>安装必要的依赖项（以 Ubuntu 为例）：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install git make ncurses-dev gcc
</span></span></code></pre></td></tr></table></div></div></li><li><p>克隆 Vim 的源代码仓库：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git clone https://github.com/vim/vim.git
</span></span><span class=line><span class=cl><span class=nb>cd</span> vim
</span></span></code></pre></td></tr></table></div></div></li><li><p>配置并编译 Vim：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>./configure
</span></span><span class=line><span class=cl>make
</span></span></code></pre></td></tr></table></div></div></li><li><p>安装 Vim：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>sudo make install
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=在ide中安装vim插件>在IDE中安装vim插件</h3><p>许多现代集成开发环境（IDE）提供了 Vim 模拟插件。我们在享受 IDE 强大功能的同时，可以继续使用Vim的编辑风格。</p><p>要在IDE中安装vim插件，只需要在对应IDE的插件市场搜索安装即可，我常用的：</p><ul><li><strong>JetBrains系列</strong>：IdeaVim<ul><li>可以配置 <code>~/.ideavimrc</code> 文件来个性化设置。</li></ul></li><li><strong>Visual Studio Code (VS Code)</strong>：Vim<ul><li>可通过 <code>settings.json</code> 文件进行配置和自定义。</li></ul></li><li><strong>Sublime Text</strong>：Vintageous<ul><li>可以通过 Sublime Text 的设置进行配置和自定义。</li></ul></li><li>……</li></ul><hr><h2 id=配置vim>配置vim</h2><p>Vim 是一个高度可配置的文本编辑器，可以通过编辑其配置文件来调整和扩展其功能。</p><h3 id=配置文件介绍>配置文件介绍</h3><p>Vim没有提供图形化的配置界面，配置Vim都是通过配置文件（<code>.vimrc</code>）实现的：</p><ul><li><p>在 Unix 或 Linux 系统中，<code>.vimrc</code> 文件通常位于用户的主目录中，例如 <code>~/.vimrc</code>。</p></li><li><p>在 Windows 系统中，<code>.vimrc</code> 文件可以放在用户主目录下，例如 <code>C:\Users\&lt;username>\_vimrc</code>，或者 <code>C:\Users\&lt;username>\.vimrc</code>。</p></li><li><p>**总结：Vim配置文件都在用户的家目录下，名称都可以用<code>.vimrc</code>表示。**没有手动创建一个空文件，直接使用。</p></li><li><p><strong>要修改配置，就在<code>.vimrc</code>文件中修改就行。</strong></p></li></ul><p><em><strong>注意事项</strong></em>：</p><ul><li><p>注释是以<code>"</code>开头。</p></li><li><p>部分vim插件版的配置文件名并不是<code>.vimrc</code>：</p><ul><li>如ideavim：<code>~/.ideavimr</code>。</li></ul></li><li><p>这里总结一下git bash内置的vim插件：</p><ul><li><p>该vim版本也可以用<code>~/.vimrc</code>进行配置值。</p><ul><li>默认的配置文件在<code>git安装位置/etc/vimrc</code>。只读。</li></ul></li><li><p><strong>如果期望git bash不使用内置的vim插件</strong>，使用的是自己安装的vim版本：</p><ul><li>可以修改git bash的配置文件<code>.bashrc</code>，添加vim的安装位置。</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span><span class=s2>&#34;/d/vim/vim91:</span><span class=nv>$PATH</span><span class=s2>&#34;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>原理：使自己安装的vim版本优先级最高。先加载。尽管我在PATH变量中添加了自己安装的vim版本路径，但是无法保证谁的优先级高，所以使用了上面办法，使自己安装的vim版本优先级最高。先加载。</li></ul></li></ul></li></ul><h3 id=常见的-vim-配置项>常见的 Vim 配置项</h3><p><code>.vimrc</code>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;&#34;&#34;&#34;</span>基本设置<span class=s2>&#34;&#34;&#34;&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>filetype on <span class=s2>&#34;开启文件类型侦测
</span></span></span><span class=line><span class=cl><span class=s2>filetype indent on  &#34;</span>适应不同语言的缩进
</span></span><span class=line><span class=cl>syntax <span class=nb>enable</span> <span class=s2>&#34;开启语法高亮功能
</span></span></span><span class=line><span class=cl><span class=s2>syntax on   &#34;</span>允许使用用户配色
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;&#34;&#34;&#34;</span>显示设置<span class=s2>&#34;&#34;&#34;&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>set</span> <span class=nv>shortmess</span><span class=o>=</span>atI         <span class=s2>&#34;不显示启动提示信息
</span></span></span><span class=line><span class=cl><span class=s2>set laststatus=2          &#34;</span>总是显示状态栏,命令行（在状态行下）的高度，默认为1，这里是2。
</span></span><span class=line><span class=cl><span class=s2>&#34; 我的状态行显示的内容（包括文件类型和解码）后续用插件美化。
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span><span class=nb>set</span> <span class=nv>statusline</span><span class=o>=</span>%F%m%r%h%w<span class=se>\ </span><span class=o>[</span><span class=nv>FORMAT</span><span class=o>=</span>%<span class=o>{</span><span class=p>&amp;</span>ff<span class=o>}]</span><span class=se>\ </span><span class=o>[</span><span class=nv>TYPE</span><span class=o>=</span>%Y<span class=o>]</span><span class=se>\ </span><span class=o>[</span><span class=nv>POS</span><span class=o>=</span>%l,%v<span class=o>][</span>%p%%<span class=o>]</span><span class=se>\ </span>%<span class=o>{</span>strftime<span class=o>(</span><span class=se>\&#34;</span>%d/%m/%y<span class=se>\ </span>-<span class=se>\ </span>%H:%M<span class=se>\&#34;</span><span class=o>)}</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;set statusline=[%F]%y%r%m%*%=[Line:%l/%L,Column:%c][%p%%]
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span><span class=nb>set</span> <span class=nv>cmdheight</span><span class=o>=</span><span class=m>2</span>         <span class=s2>&#34; 命令行（在状态行下）的高度，默认为1，这里是2
</span></span></span><span class=line><span class=cl><span class=s2>set ruler                 &#34;</span>显示光标位置
</span></span><span class=line><span class=cl><span class=nb>set</span> number                <span class=s2>&#34;显示行号
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span><span class=nb>set</span> cursorline            <span class=s2>&#34;高亮显示当前行
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span><span class=nb>set</span> cursorcolumn            <span class=s2>&#34;高亮显示当前列
</span></span></span><span class=line><span class=cl><span class=s2>set hlsearch                &#34;</span> 高亮搜索结果
</span></span><span class=line><span class=cl><span class=nb>set</span> incsearch               <span class=s2>&#34;边输边高亮
</span></span></span><span class=line><span class=cl><span class=s2>set ignorecase              &#34;</span>搜索时忽略大小写
</span></span><span class=line><span class=cl><span class=nb>set</span> smartcase				<span class=s2>&#34; 智能大小写匹配
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span><span class=nb>set</span> relativenumber     <span class=s2>&#34;其他行显示相对行号
</span></span></span><span class=line><span class=cl><span class=s2>set scrolloff=5     &#34;</span>垂直滚动时光标距底部位置
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;&#34;&#34;&#34;</span>编码设置<span class=s2>&#34;&#34;&#34;&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>set</span> <span class=nv>fileencodings</span><span class=o>=</span>utf-8,gb2312,gbk,gb18030,cp936    <span class=s2>&#34; 检测文件编码,将fileencoding设置为最终编码
</span></span></span><span class=line><span class=cl><span class=s2>set fileencoding=utf-8                              &#34;</span> 保存时的文件编码
</span></span><span class=line><span class=cl><span class=nb>set</span> <span class=nv>termencoding</span><span class=o>=</span>utf-8                              <span class=s2>&#34; 终端的输出字符编码
</span></span></span><span class=line><span class=cl><span class=s2>set encoding=utf-8                                  &#34;</span> VIM打开文件使用的内部编码
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;&#34;&#34;&#34;</span>编辑设置<span class=s2>&#34;&#34;&#34;&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>set</span> expandtab     <span class=s2>&#34;扩展制表符为空格
</span></span></span><span class=line><span class=cl><span class=s2>set tabstop=4     &#34;</span>制表符占空格数
</span></span><span class=line><span class=cl><span class=nb>set</span> <span class=nv>softtabstop</span><span class=o>=</span><span class=m>4</span> <span class=s2>&#34;将连续数量的空格视为一个制表符
</span></span></span><span class=line><span class=cl><span class=s2>set shiftwidth=4  &#34;</span>自动缩进所使用的空格数
</span></span><span class=line><span class=cl><span class=nb>set</span> <span class=nv>textwidth</span><span class=o>=</span><span class=m>80</span> <span class=s2>&#34;设置一行内容的宽度
</span></span></span><span class=line><span class=cl><span class=s2>set linebreak       &#34;</span>防止单词内部折行
</span></span><span class=line><span class=cl><span class=nb>set</span> <span class=nv>wrapmargin</span><span class=o>=</span><span class=m>5</span>      <span class=s2>&#34;指定折行处与右边缘空格数
</span></span></span><span class=line><span class=cl><span class=s2>set smarttab        &#34;</span>使用智能制表符
</span></span><span class=line><span class=cl><span class=nb>set</span> smartindent <span class=s2>&#34;智能缩进(好处是修改代码时会根据代码规则自动缩进，坏处是当用`:n,m&gt;`对齐左侧的注释将不会被移动)
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span><span class=nb>set</span> autoindent <span class=s2>&#34;自动缩进(这两个差不多，感觉在大括号自动配对时，用智能缩进好点)
</span></span></span><span class=line><span class=cl><span class=s2>set wildmenu      &#34;</span>vim命令自动补全
</span></span><span class=line><span class=cl><span class=nb>set</span> autochdir     <span class=s2>&#34;自动定位当前目录。
</span></span></span><span class=line><span class=cl><span class=s2>set wrap          &#34;</span>启用自动换行<span class=s2>&#34;
</span></span></span><span class=line><span class=cl><span class=s2>set autoread        &#34;</span>文件改动时自动载入
</span></span><span class=line><span class=cl><span class=nb>set</span> <span class=nv>t_Co</span><span class=o>=</span><span class=m>256</span>        <span class=s2>&#34;terminal Color 支持256色(默认是8色)
</span></span></span><span class=line><span class=cl><span class=s2>hi comment ctermfg=6 &#34;</span>设置注释颜色
</span></span><span class=line><span class=cl><span class=nb>set</span> magic                   <span class=s2>&#34; 设置魔术
</span></span></span><span class=line><span class=cl><span class=s2>set guioptions-=T           &#34;</span> 隐藏gui工具栏
</span></span><span class=line><span class=cl><span class=nb>set</span> guioptions-<span class=o>=</span>m           <span class=s2>&#34; 隐藏gui菜单栏
</span></span></span><span class=line><span class=cl><span class=s2>set guioptions-=r           &#34;</span> 删去gui滚动条<span class=s2>&#34;
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span> 使用更友好的颜色方案
</span></span><span class=line><span class=cl>colorscheme desert
</span></span><span class=line><span class=cl><span class=s2>&#34; 设置背景色
</span></span></span><span class=line><span class=cl><span class=s2>set background=dark
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span> 显示命令输入
</span></span><span class=line><span class=cl><span class=nb>set</span> showcmd
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=s2>&#34;设置gui字体
</span></span></span><span class=line><span class=cl><span class=s2>set guifont=Courier\ New:h20
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span> 设置宽高
</span></span><span class=line><span class=cl><span class=s2>&#34;set lines=15 columns=50 
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span> 启用真彩色颜色支持，让配色方案显示更好。
</span></span><span class=line><span class=cl><span class=nb>set</span> termguicolors
</span></span></code></pre></td></tr></table></div></div><p>注意配置了上面大部分设置，在大多数主题中只需要在<code>vim-plug</code>后面选择颜色方案<code>colorscheme</code>即可。</p><hr><h2 id=插件使用>插件使用</h2><p>Vim 的功能可以通过插件进一步扩展。使用插件可以增强Vim的功能，如语法高亮、代码补全、文件浏览器、版本控制集成、模糊搜索等。</p><p>为了方便安装，更新，删除插件，我们一般使用插件管理器进行插件管理。</p><p>推荐使用的插件管理器是<a class=link href=https://github.com/junegunn/vim-plug target=_blank rel=noopener>vim-plug</a>。与其他插件管理器（如 Vundle 和 Pathogen）相比，<code>vim-plug</code> 提供了更快的性能和更多的功能，如并行安装插件、延迟加载插件、使用简单等。</p><h3 id=安装-vim-plug>安装 <code>vim-plug</code></h3><ol><li><p><strong>下载并安装 <code>vim-plug</code></strong>： 在终端中运行以下命令，这会将 <code>vim-plug</code> 下载到你的 Vim 自动加载目录下：</p><p>Linux：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>curl -fLo ~/.vim/autoload/plug.vim --create-dirs <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
</span></span></code></pre></td></tr></table></div></div><p>Windows：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>curl -fLo ~/vimfiles/autoload/plug.vim --create-dirs <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
</span></span></code></pre></td></tr></table></div></div><p>注意：需要拥有curl命令，并且终端能够访问外网。</p><p>如果没有，可以手动下载<a class=link href=https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim target=_blank rel=noopener>plug.vim</a>，并将文件放在 windows 中的 <code>~/vimfiles/autoload</code> 或 Linux 中的 <code>~/.vim/autoload</code> 文件夹内，没有手动创建。</p></li></ol><h3 id=插件推荐>插件推荐</h3><ol><li><p><strong>状态栏和主题</strong></p><ul><li><a class=link href=https://github.com/itchyny/lightline.vim target=_blank rel=noopener>lightline.vim</a>：轻量级状态栏插件。</li><li><a class=link href=https://github.com/vim-airline/vim-airline target=_blank rel=noopener>vim-airline</a>：高级状态栏插件，提供丰富的功能和美观的主题。</li><li>**<a class=link href=https://github.com/dracula/dracula-theme target=_blank rel=noopener>dracula-theme</a>**主题</li><li>**<a class=link href=https://github.com/kaicataldo/material.vim target=_blank rel=noopener>material.vim</a>**主题</li><li>**<a class=link href=https://github.com/tribela/vim-transparent target=_blank rel=noopener>vim-transparent</a>**<strong>终端透明</strong>。<ul><li>这个插件，可以配置让其他插件也透明。</li></ul></li><li><a class=link href=https://github.com/ajmwagar/vim-deus target=_blank rel=noopener>vim-deus</a>主题</li><li>配置主题建议都配置<code>set termguicolors</code>" <strong>启用真彩色颜色支持</strong>，<strong>让配色方案显示更好。会让终端透明效果更好。</strong></li></ul></li><li><p>如果喜欢用gvim(我用sublme的<a class=link href=#%e5%9c%a8IDE%e4%b8%ad%e5%ae%89%e8%a3%85vim%e6%8f%92%e4%bb%b6>Vim插件</a>)。可以：</p><ol><li><p>全屏显示：</p><p><a class=link href=https://github.com/derekmcloughlin/gvimfullscreen_win32 target=_blank rel=noopener>gvimfullscreen_win32</a>
32位系统:
- 下载<code>gvimfullscreen.dll</code>
- 将其放入<code>gvim.exe</code>同目录的文件夹下
- 配置文件中<code>map &lt;F11> &lt;Esc>:call libcallnr("gvimfullscreen.dll", "ToggleFullScreen", 0)&lt;CR></code></p><p>64位系统同上, 用<code>gvimfullscreen_64</code>代替</p><p>现在你就可以用<code>&lt;F11></code>来进行全屏操作</p></li><li><p>透明显示</p><p><a class=link href=https://github.com/mattn/vimtweak target=_blank rel=noopener>vimtweak</a></p><p>方法基本同上, 选择<code>vimtweak32.dll</code>或<code>vimtweak64.dll</code>放入文件夹, 在vimrc中</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>au GUIEnter * call libcallnr<span class=o>(</span><span class=s2>&#34;vimtweak64.dll&#34;</span>, <span class=s2>&#34;SetAlpha&#34;</span>, 200<span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><p>其中数值200可以选择0-255, 255为不透明</p></li></ol></li><li><p>一组默认配置（每个人都同意默认的配置）：<a class=link href=https://github.com/tpope/vim-sensible target=_blank rel=noopener>vim-sensible</a>：插件的功能：</p><ol><li><code>'backspace'</code>：在插入模式下按退格键可删除任何内容。默认只能删除新添加的。</li><li><code>'incsearch'</code>：按回车键之前开始搜索。</li><li><code>'listchars'</code>：使<code>:set list</code>（可见空白）更漂亮。</li><li><code>'scrolloff'</code>：始终在光标上方/下方显示至少一行。</li><li><code>'autoread'</code>：自动加载文件更改。您可以按 撤消<code>u</code>。</li><li><code>runtime! macros/matchit.vim</code>：加载 Vim 附带的 matchit.vim 版本。</li></ol></li><li><p><strong>文件浏览和导航</strong></p><ul><li><a class=link href=https://github.com/preservim/nerdtree target=_blank rel=noopener>NERDTree</a>：文件系统浏览器，提供树状目录视图。<ul><li>也可以用内置的<code>:Vex</code>浏览目录。它没有目录树结构。</li></ul></li><li><a class=link href=https://github.com/junegunn/fzf.vim target=_blank rel=noopener>fzf.vim</a>：模糊查找工具，基于 <code>fzf</code> 命令行工具。</li></ul></li><li><p><strong>语法高亮和语法检查</strong></p><ul><li><a class=link href=https://github.com/sheerun/vim-polyglot target=_blank rel=noopener>vim-polyglot</a>：支持多种编程语言的语法高亮。</li><li><a class=link href=https://github.com/dense-analysis/ale target=_blank rel=noopener>ALE</a>：异步语法检查和修复工具。</li></ul></li><li><p><strong>代码补全</strong></p><ul><li><a class=link href=https://github.com/ycm-core/YouCompleteMe target=_blank rel=noopener>YouCompleteMe</a>：强大的代码补全插件，支持多种编程语言。</li><li><a class=link href=https://github.com/neoclide/coc.nvim target=_blank rel=noopener>coc.nvim</a>：基于 VSCode 插件的代码补全和语言服务器支持。</li><li><strong>没打算用vim写代码，没花时间去配置</strong>。</li></ul></li><li><p><strong>版本控制</strong></p><ul><li><a class=link href=https://github.com/tpope/vim-fugitive target=_blank rel=noopener>vim-fugitive</a>：Git 集成插件，提供强大的 Git 操作支持。</li><li><a class=link href=https://github.com/airblade/vim-gitgutter target=_blank rel=noopener>gitgutter</a>：在编辑器中显示 Git 的改动信息。</li><li>都是在终端中使用git，我没有配置。</li></ul></li><li><p><strong>其他实用插件</strong></p><ul><li><a class=link href=https://github.com/machakann/vim-highlightedyank target=_blank rel=noopener>vim-highlightedyank</a>：让复制区域高亮。（ideavim内置插件。）</li><li><a class=link href=https://github.com/jiangmiao/auto-pairs target=_blank rel=noopener>auto-pairs</a>：成对添加、删除、高亮括号。</li><li><a class=link href=https://github.com/tpope/vim-surround target=_blank rel=noopener>surround.vim</a>：轻松操作成对符号（例如引号、括号）。<ul><li>auto-pairs的扩展。成对修改括号为别的括号。如<code>cs"'</code>将成对<code>"</code>改为<code>'</code>。</li></ul></li><li><a class=link href=https://github.com/tpope/vim-commentary target=_blank rel=noopener>commentary.vim</a>：快速注释和取消注释代码。<ul><li>在普通模式下，移动光标到要注释的行，然后使用 <code>gcc</code> 注释/取消注释当前行。</li><li>在可视模式下，选择要注释的代码块，然后使用 <code>gc</code> 注释/取消注释选定的代码。</li><li><strong>很智能，好用。</strong>（ideavim内置插件。）</li></ul></li></ul></li></ol><h3 id=配置插件>配置插件</h3><ol><li><p><strong>编辑 <code>.vimrc</code> 文件，添加插件管理器配置</strong>：</p><p>windwos为例，将插件安装位置保存在<code>$VIM/vimfiles/plugged</code>，将下面代码追加到<code>.vimrc</code>中：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;&#34;&#34;&#34;</span>插件vim-plug<span class=s2>&#34;&#34;&#34;&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=s2>&#34; 初始化 vim-plug
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span> Linux上默认
</span></span><span class=line><span class=cl><span class=s2>&#34; call plug#begin()
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span> windows上自定义插件安装位置
</span></span><span class=line><span class=cl>call plug#begin<span class=o>(</span><span class=s1>&#39;$VIM/vimfiles/plugged&#39;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=s2>&#34; The default plugin directory will be as follows:
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span>   - Vim <span class=o>(</span>Linux/macOS<span class=o>)</span>: <span class=s1>&#39;~/.vim/plugged&#39;</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;   - Vim (Windows): &#39;~/vimfiles/plugged&#39;
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span>   - Neovim <span class=o>(</span>Linux/macOS/Windows<span class=o>)</span>: stdpath<span class=o>(</span><span class=s1>&#39;data&#39;</span><span class=o>)</span> . <span class=s1>&#39;/plugged&#39;</span>
</span></span><span class=line><span class=cl><span class=s2>&#34; You can specify a custom plugin directory by passing it as the argument
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span>   - e.g. <span class=sb>`</span>call plug#begin<span class=o>(</span><span class=s1>&#39;~/.vim/plugged&#39;</span><span class=o>)</span><span class=sb>`</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;   - Avoid using standard Vim directory names like &#39;plugin&#39;
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span> 添加插件列表,确保使用的是单引号。
</span></span><span class=line><span class=cl><span class=s2>&#34; Plug &#39;tpope/vim-sensible&#39;
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span> Plug <span class=s1>&#39;scrooloose/nerdtree&#39;</span>
</span></span><span class=line><span class=cl><span class=s2>&#34; Plug &#39;itchyny/lightline.vim&#39;
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span> Call plug#end to update <span class=p>&amp;</span>runtimepath and initialize the plugin system.
</span></span><span class=line><span class=cl><span class=s2>&#34; - It automatically executes `filetype plugin indent on` and `syntax enable`
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span> 结束插件配置
</span></span><span class=line><span class=cl>call plug#end<span class=o>()</span>
</span></span><span class=line><span class=cl><span class=s2>&#34; You can revert the settings after the call like so:
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span>   filetype indent off   <span class=s2>&#34; Disable file-type-specific indentation
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span>   syntax off            <span class=s2>&#34; Disable syntax highlighting
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;&#34;&#34;&#34;插件vim-plug结束&#34;&#34;&#34;&#34;&#34;&#34;
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>添加插件</strong>：我们只需要将插件添加到<code>Plug ''</code>里面即可，别忘记取消注释。插件名一般为为<code>github作者/仓库名</code>。</p></li><li><p><strong>安装插件</strong>：打开vim运行<code>:PlugInstall</code>命令来安装 <code>.vimrc</code> 中定义的插件。</p></li><li><p><strong>更新插件</strong>： 要更新所有插件，运行：<code>:PlugUpdate</code></p></li><li><p><strong>清除未使用的插件</strong>： 如果你从配置中移除了一些插件，可以运行<code>:PlugClean</code>命令来删除未使用的插件。</p></li><li><p><strong>检查插件状态</strong>： 要检查插件的状态和版本，运行<code>:PlugStatus</code>。</p></li><li><p><code>Done</code>表示成功，<code>:q</code>退出插件管理器。失败退出重试。或R重试。</p></li><li><p>插件安装成功示例：</p><p><img src=/p/vim-introduction/index.assets/image-20240601130425059.png width=1920 height=1080 srcset="/p/vim-introduction/index.assets/image-20240601130425059_hu4926137622968115842.png 480w, /p/vim-introduction/index.assets/image-20240601130425059_hu6138446569572290816.png 1024w" loading=lazy alt=:PlugInstall class=gallery-image data-flex-grow=177 data-flex-basis=426px></p></li></ol><hr><h2 id=效果展示><strong>效果展示</strong></h2><p>vim配置效果：</p><p>material：default：</p><p><img src=/p/vim-introduction/index.assets/image-20240601115134165.png width=1920 height=1080 srcset="/p/vim-introduction/index.assets/image-20240601115134165_hu11328571375737713603.png 480w, /p/vim-introduction/index.assets/image-20240601115134165_hu386089092290036600.png 1024w" loading=lazy alt=material：default class=gallery-image data-flex-grow=177 data-flex-basis=426px></p><p>material：palenight：</p><p><img src=/p/vim-introduction/index.assets/image-20240601115622541.png width=1920 height=1080 srcset="/p/vim-introduction/index.assets/image-20240601115622541_hu4661753416144999738.png 480w, /p/vim-introduction/index.assets/image-20240601115622541_hu17102671077530286520.png 1024w" loading=lazy alt=material：palenight class=gallery-image data-flex-grow=177 data-flex-basis=426px></p><p>区别不是很大。</p><p>deus：</p><p><img src=/p/vim-introduction/index.assets/image-20240601120120263.png width=1920 height=1080 srcset="/p/vim-introduction/index.assets/image-20240601120120263_hu8119447206731372638.png 480w, /p/vim-introduction/index.assets/image-20240601120120263_hu89799726088539982.png 1024w" loading=lazy alt=deus class=gallery-image data-flex-grow=177 data-flex-basis=426px></p><p>我的<a class=link href=https://github.com/arlettebrook/arlettebrook/tree/main/vim.cfg target=_blank rel=noopener>完整配置</a>。</p><hr><h2 id=扩展>扩展</h2><h3 id=自定义快捷键>自定义快捷键</h3><p>在Vim中自定义快捷键，其实就创建快捷键与命令之间的映射关系。</p><p>用到的命令是<code>map</code>或<code>noremap</code>。注意：要将命令配置在<code>.vimrc</code>中。</p><p>格式：<code>映射命令 自定义快捷键 命令</code>，中间用空格分隔开。</p><p>前面有<code>n, i, v, c</code>中的任意一个字符表示对应的模式。如<code>nmap</code>或<code>nnoremap</code>表示Normal模式下的映射关系。没有表示所有模式的映射关系。</p><p><strong>二者区别</strong>：</p><ul><li><p><code>map</code>会递归解析映射。</p></li><li><p><code>noremap</code>不会递归解析映射。</p></li><li><p>意思是如果命令中有别的映射，一个会解析，一个不会。如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>nmap yy dd  <span class=c1># 修改了默认映射。</span>
</span></span><span class=line><span class=cl>nnoremap ,y <span class=s2>&#34;*yy # 会执行复制一行命令到剪切板。
</span></span></span><span class=line><span class=cl><span class=s2>nmap ,d &#34;</span>*yy <span class=c1># 会删除一行命令到剪切板。解析了yy映射。</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>看需求使用，是否需要递归映射。没有需求推荐使用<code>noremap</code>创建映射，防止映射多了，递归解析，导致无限循环或意外行为。</p></li></ul><p>注意事项：</p><ul><li><p>当自定义的快捷键与vim预定义的快捷键冲突时，自定义的快捷键会覆盖预定义的快捷键。</p></li><li><p>查看自定义的快捷键<code>:map</code>。或者查看<code>.vimrc</code>。</p><ul><li>使用 <code>:verbose map</code> 命令可以查看详细的映射信息，包括映射是在哪里定义的。</li></ul></li><li><p>取消自定义的快捷键：在自定义快捷键的后面添加<code>u+自定义的快捷键</code>。如</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>nnoremap ,y <span class=s2>&#34;*yy # 自定义快捷键
</span></span></span><span class=line><span class=cl><span class=s2>...
</span></span></span><span class=line><span class=cl><span class=s2>unnoremap ,y # 取消快捷键
</span></span></span></code></pre></td></tr></table></div></div></li></ul><p><strong>常用键表示法</strong></p><ol><li><p><strong>普通字符</strong>：</p><ul><li>直接输入字母、数字、符号。例如：<code>a</code>, <code>b</code>, <code>1</code>, <code>2</code>, <code>#</code>, <code>*</code>。</li></ul></li><li><p><strong>控制键</strong>：</p><ul><li>使用 <code>&lt;Ctrl></code>（或 <code>&lt;C></code>）表示控制键。例如：<code>&lt;C-a></code> 表示 <code>Ctrl+a</code>。</li></ul></li><li><p><strong>功能键</strong>：</p><ul><li>使用 <code>&lt;F1></code> 到 <code>&lt;F12></code> 表示功能键。例如：<code>&lt;F2></code> 表示功能键 <code>F2</code>。</li></ul></li><li><p><strong>特殊键</strong>：</p><ul><li>使用尖括号包围的特殊键表示法。例如：<ul><li><code>&lt;Esc></code>：Escape 键</li><li><code>&lt;CR></code>：回车键（Enter）</li><li><code>&lt;Tab></code>：制表符键（Tab）</li><li><code>&lt;Space></code>：空格键（Space）</li><li><code>&lt;BS></code>：退格键（Backspace）</li><li><code>&lt;Del></code>：删除键（Delete）</li><li><code>&lt;Up></code>：上箭头键</li><li><code>&lt;Down></code>：下箭头键</li><li><code>&lt;Left></code>：左箭头键</li><li><code>&lt;Right></code>：右箭头键</li></ul></li></ul></li><li><p><strong>组合键</strong>：</p><ul><li>可以组合使用。例如：<code>&lt;C-Space></code> 表示 <code>Ctrl+Space</code>，<code>&lt;C-Left></code> 表示 <code>Ctrl+Left</code>。</li></ul></li><li><p><strong>Leader</strong> 键</p><ol><li><p>使用 <code>&lt;leader></code> 键可以避免与默认快捷键冲突。默认情况下，<code>&lt;leader></code> 键是反斜杠 <code>\</code>，但你可以在 <code>.vimrc</code> 中重新定义它：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>let</span> <span class=nv>mapleader</span> <span class=o>=</span> <span class=s2>&#34;,&#34;</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>然后你可以使用 <code>&lt;leader></code> 键创建自定义快捷键：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>nnoremap &lt;leader&gt;y <span class=s2>&#34;*yy
</span></span></span></code></pre></td></tr></table></div></div><p>这样，你的自定义快捷键将使用 <code>,y</code> 来触发，并且<code>&lt;leader></code>可以更改为你喜欢但不冲突的键。逗号跟反斜杠就是，不过我更喜欢用逗号。</p></li></ol></li></ol><p>示例：在vim中没有快捷键删除光标后面的字符。我们来自定义映射实现：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=s2>&#34; ctrl-k：删除光标后面的字符，部分版本不支持
</span></span></span><span class=line><span class=cl><span class=s2>nnoremap &lt;C-k&gt; D
</span></span></span><span class=line><span class=cl><span class=s2>inoremap &lt;C-k&gt; &lt;Esc&gt;lC
</span></span></span><span class=line><span class=cl><span class=s2>vnoremap &lt;C-k&gt; d
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span> 定义删除光标后所有字符的函数
</span></span><span class=line><span class=cl><span class=k>function</span>! DeleteAfterCursor<span class=o>()</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34; 获取当前光标在命令行中的位置
</span></span></span><span class=line><span class=cl><span class=s2>    let current_pos = getcmdpos()
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;</span> 获取当前命令行的内容
</span></span><span class=line><span class=cl>    <span class=nb>let</span> <span class=nv>cmdline</span> <span class=o>=</span> getcmdline<span class=o>()</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34; 截取字符串，获取光标前的部分
</span></span></span><span class=line><span class=cl><span class=s2>    let new_cmdline = strpart(cmdline, 0, current_pos - 1)
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;</span> 设置新的命令行内容，只保留光标前的部分，去掉光标位置及其后的所有字符
</span></span><span class=line><span class=cl>    call setcmdline<span class=o>(</span>new_cmdline<span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl>endfunction
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=s2>&#34; 在命令行模式下映射 &lt;C-k&gt; 为删除光标后的所有字符
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span> 用表达式寄存器调用删除函数，最后回车
</span></span><span class=line><span class=cl>cnoremap &lt;C-k&gt; &lt;C-r&gt;<span class=o>=</span>DeleteAfterCursor<span class=o>()</span>&lt;CR&gt;
</span></span></code></pre></td></tr></table></div></div><p>通过上面的命令，我们实现了终端在Emacs模式下的<code>ctrl-k</code>快捷键。但是只能在vim中使用，并且vim版本需要支持表达式寄存器。</p><p>如果终端的编辑模式为vi，依旧不能解决问题。在insert模式下不能使用<code>ctl-k</code>快捷键。需要修改终端的映射关系<code>.inputrc</code>。不过够用了。</p><p>示例：<strong>配置复制、粘贴、剪切快捷键</strong>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=s2>&#34; 配置复制、粘贴、剪切
</span></span></span><span class=line><span class=cl><span class=s2>vnoremap &lt;C-c&gt; &#34;</span>*y
</span></span><span class=line><span class=cl>inoremap &lt;C-v&gt; &lt;C-r&gt;*
</span></span><span class=line><span class=cl>cnoremap &lt;C-v&gt; &lt;C-r&gt;*
</span></span><span class=line><span class=cl>vnoremap &lt;C-v&gt; <span class=s2>&#34;*p
</span></span></span><span class=line><span class=cl><span class=s2>vnoremap &lt;C-x&gt; &#34;</span>*d
</span></span></code></pre></td></tr></table></div></div><p>需要注意的是不要配置普通模式下的<code>ctrl-v</code>，它是可视块的快捷键，可以配置visual模式的，需要按两次才能粘贴。不过够用了。</p><p><strong>命令参考</strong>：<a class=link href=https://arlettebrook.github.io/p/vim-common-commands/ target=_blank rel=noopener>Vim Common Commands</a></p></section><footer class=article-footer><section class=article-tags><a href=/tags/vim/>Vim</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>最后更新于 Jun 02, 2024 21:52 +0800</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/vim-common-commands/><div class=article-details><h2 class=article-title>Vim Common Commands</h2></div></a></article><article><a href=/p/ssh-introduction/><div class=article-details><h2 class=article-title>SSH Introduction</h2></div></a></article><article><a href=/p/terminal-and-shell-introduction/><div class=article-details><h2 class=article-title>Terminal And Shell Introduction</h2></div></a></article><article><a href=/p/linux-common-commands/><div class=article-details><h2 class=article-title>Linux Common Commands</h2></div></a></article><article><a href=/p/batch-del-cf-dns-record/><div class=article-details><h2 class=article-title>Batch Del CF DNS Record</h2></div></a></article></div></div></aside><script src=//unpkg.com/@waline/client@v2/dist/waline.js></script><link href=//unpkg.com/@waline/client@v2/dist/waline.css rel=stylesheet><div id=waline class=waline-container></div><style>.waline-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding);--waline-font-size:var(--article-font-size)}.waline-container .wl-count{color:var(--card-text-color-main)}</style><script>Waline.init({comment:!0,copyright:!1,dark:'html[data-scheme="dark"]',el:"#waline",emoji:["https://unpkg.com/@waline/emojis@1.0.1/weibo"],lang:"zh-cn",locale:{admin:"👻Hi",placeholder:"🎉留下你的脚印..."},pageview:!0,reaction:!0,requiredMeta:["nick"],serverURL:"https://waline.nek.dpdns.org/"})</script><footer class=site-footer><section class=copyright>Copyright &copy;
2020 -
2025 <b><a href=https://github.com/arlettebrook target=_blank rel=noopener>@Arlettebrook</a></b></section><section class=powerby>博客内容遵循<b><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode.zh-hans target=_blank rel=noopener> 知识共享 署名-非商业性-相同方式共享4.0国际协议</a></b><br>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.25.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>