[{"content":"\r#\rç®€ä»‹\rflagç”¨äºè§£æå‘½ä»¤è¡Œé€‰é¡¹ã€‚æœ‰è¿‡ç±» Unix ç³»ç»Ÿä½¿ç”¨ç»éªŒçš„ç«¥é‹å¯¹å‘½ä»¤è¡Œé€‰é¡¹åº”è¯¥ä¸é™Œç”Ÿã€‚ä¾‹å¦‚å‘½ä»¤ls -alåˆ—å‡ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•çš„è¯¦ç»†ä¿¡æ¯ï¼Œå…¶ä¸­-alå°±æ˜¯å‘½ä»¤è¡Œé€‰é¡¹ã€‚\nå‘½ä»¤è¡Œé€‰é¡¹åœ¨å®é™…å¼€å‘ä¸­å¾ˆå¸¸ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨å†™å·¥å…·çš„æ—¶å€™ã€‚\næŒ‡å®šé…ç½®æ–‡ä»¶çš„è·¯å¾„ï¼Œå¦‚redis-server ./redis.confä»¥å½“å‰ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶redis.confå¯åŠ¨ Redis æœåŠ¡å™¨ï¼› è‡ªå®šä¹‰æŸäº›å‚æ•°ï¼Œå¦‚python -m SimpleHTTPServer 8080å¯åŠ¨ä¸€ä¸ª HTTP æœåŠ¡å™¨ï¼Œç›‘å¬ 8080 ç«¯å£ã€‚å¦‚æœä¸æŒ‡å®šï¼Œåˆ™é»˜è®¤ç›‘å¬ 8000 ç«¯å£ã€‚ #\rå¿«é€Ÿä½¿ç”¨\rå­¦ä¹ ä¸€ä¸ªåº“çš„ç¬¬ä¸€æ­¥å½“ç„¶æ˜¯ä½¿ç”¨å®ƒã€‚æˆ‘ä»¬å…ˆçœ‹çœ‹flagåº“çš„åŸºæœ¬ä½¿ç”¨ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;flag\u0026#34; ) var ( intflag int boolflag bool stringflag string ) func init() { flag.IntVar(\u0026amp;intflag, \u0026#34;intflag\u0026#34;, 0, \u0026#34;int flag value\u0026#34;) flag.BoolVar(\u0026amp;boolflag, \u0026#34;boolflag\u0026#34;, false, \u0026#34;bool flag value\u0026#34;) flag.StringVar(\u0026amp;stringflag, \u0026#34;stringflag\u0026#34;, \u0026#34;default\u0026#34;, \u0026#34;string flag value\u0026#34;) } func main() { flag.Parse() fmt.Println(\u0026#34;int flag:\u0026#34;, intflag) fmt.Println(\u0026#34;bool flag:\u0026#34;, boolflag) fmt.Println(\u0026#34;string flag:\u0026#34;, stringflag) } å¯ä»¥å…ˆç¼–è¯‘ç¨‹åºï¼Œç„¶åè¿è¡Œï¼ˆæˆ‘ä½¿ç”¨çš„æ˜¯ Win10 + Git Bashï¼‰ï¼š\n1 2 $ go build -o main.exe main.go $ ./main.exe -intflag 12 -boolflag 1 -stringflag test è¾“å‡ºï¼š\n1 2 3 int flag: 12 bool flag: true string flag: test å¦‚æœä¸è®¾ç½®æŸä¸ªé€‰é¡¹ï¼Œç›¸åº”å˜é‡ä¼šå–é»˜è®¤å€¼ï¼š\n1 $ ./main.exe -intflag 12 -boolflag 1 è¾“å‡ºï¼š\n1 2 3 int flag: 12 bool flag: true string flag: default å¯ä»¥çœ‹åˆ°æ²¡æœ‰è®¾ç½®çš„é€‰é¡¹stringflagä¸ºé»˜è®¤å€¼defaultã€‚\nè¿˜å¯ä»¥ç›´æ¥ä½¿ç”¨go runï¼Œè¿™ä¸ªå‘½ä»¤ä¼šå…ˆç¼–è¯‘ç¨‹åºç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œè¯¥æ–‡ä»¶ï¼Œå°†å‘½ä»¤è¡Œä¸­çš„å…¶å®ƒé€‰é¡¹ä¼ ç»™è¿™ä¸ªç¨‹åºã€‚\n1 go run main.go -intflag 12 -boolflag 1 å¯ä»¥ä½¿ç”¨-hæ˜¾ç¤ºé€‰é¡¹å¸®åŠ©ä¿¡æ¯ï¼š\n1 2 3 4 5 6 7 8 $ ./main.exe -h Usage of D:\\code\\golang\\src\\github.com\\darjun\\cmd\\flag\\main.exe: -boolflag bool flag value -intflag int int flag value -stringflag string string flag value (default \u0026#34;default\u0026#34;) æ€»ç»“ä¸€ä¸‹ï¼Œä½¿ç”¨flagåº“çš„ä¸€èˆ¬æ­¥éª¤ï¼š\nå®šä¹‰ä¸€äº›å…¨å±€å˜é‡å­˜å‚¨é€‰é¡¹çš„å€¼ï¼Œå¦‚è¿™é‡Œçš„intflag/boolflag/stringflagï¼› åœ¨initæ–¹æ³•ä¸­ä½¿ç”¨flag.TypeVaræ–¹æ³•å®šä¹‰é€‰é¡¹ï¼Œè¿™é‡Œçš„Typeå¯ä»¥ä¸ºåŸºæœ¬ç±»å‹Int/Uint/Float64/Boolï¼Œè¿˜å¯ä»¥æ˜¯æ—¶é—´é—´éš”time.Durationã€‚å®šä¹‰æ—¶ä¼ å…¥å˜é‡çš„åœ°å€ã€é€‰é¡¹åã€é»˜è®¤å€¼å’Œå¸®åŠ©ä¿¡æ¯ï¼› åœ¨mainæ–¹æ³•ä¸­è°ƒç”¨flag.Parseä»os.Args[1:]ä¸­è§£æé€‰é¡¹ã€‚å› ä¸ºos.Args[0]ä¸ºå¯æ‰§è¡Œç¨‹åºè·¯å¾„ï¼Œä¼šè¢«å‰”é™¤ã€‚ æ³¨æ„ç‚¹ï¼š\nflag.Parseæ–¹æ³•å¿…é¡»åœ¨æ‰€æœ‰é€‰é¡¹éƒ½å®šä¹‰ä¹‹åè°ƒç”¨ï¼Œä¸”flag.Parseè°ƒç”¨ä¹‹åä¸èƒ½å†å®šä¹‰é€‰é¡¹ã€‚å¦‚æœæŒ‰ç…§å‰é¢çš„æ­¥éª¤ï¼ŒåŸºæœ¬ä¸ä¼šå‡ºç°é—®é¢˜ã€‚ å› ä¸ºinitåœ¨æ‰€æœ‰ä»£ç ä¹‹å‰æ‰§è¡Œï¼Œå°†é€‰é¡¹å®šä¹‰éƒ½æ”¾åœ¨initä¸­ï¼Œmainå‡½æ•°ä¸­æ‰§è¡Œflag.Parseæ—¶æ‰€æœ‰é€‰é¡¹éƒ½å·²ç»å®šä¹‰äº†ã€‚\n#\ré€‰é¡¹æ ¼å¼\rflagåº“æ”¯æŒä¸‰ç§å‘½ä»¤è¡Œé€‰é¡¹æ ¼å¼ã€‚\n1 2 3 -flag -flag=x -flag x -å’Œ--éƒ½å¯ä»¥ä½¿ç”¨ï¼Œå®ƒä»¬çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ã€‚æœ‰äº›åº“ä½¿ç”¨-è¡¨ç¤ºçŸ­é€‰é¡¹ï¼Œ--è¡¨ç¤ºé•¿é€‰é¡¹ã€‚ç›¸å¯¹è€Œè¨€ï¼Œflagä½¿ç”¨èµ·æ¥æ›´ç®€å•ã€‚\nç¬¬ä¸€ç§å½¢å¼åªæ”¯æŒå¸ƒå°”ç±»å‹çš„é€‰é¡¹ï¼Œå‡ºç°å³ä¸ºtrueï¼Œä¸å‡ºç°ä¸ºé»˜è®¤å€¼ã€‚ ç¬¬ä¸‰ç§å½¢å¼ä¸æ”¯æŒå¸ƒå°”ç±»å‹çš„é€‰é¡¹ã€‚å› ä¸ºè¿™ç§å½¢å¼çš„å¸ƒå°”é€‰é¡¹åœ¨ç±» Unix ç³»ç»Ÿä¸­å¯èƒ½ä¼šå‡ºç°æ„æƒ³ä¸åˆ°çš„è¡Œä¸ºã€‚çœ‹ä¸‹é¢çš„å‘½ä»¤ï¼š\n1 cmd -x * å…¶ä¸­ï¼Œ*æ˜¯ shell é€šé…ç¬¦ã€‚å¦‚æœæœ‰åå­—ä¸º 0ã€falseçš„æ–‡ä»¶ï¼Œå¸ƒå°”é€‰é¡¹-xå°†ä¼šå–falseã€‚åä¹‹ï¼Œå¸ƒå°”é€‰é¡¹-xå°†ä¼šå–trueã€‚è€Œä¸”è¿™ä¸ªé€‰é¡¹æ¶ˆè€—äº†ä¸€ä¸ªå‚æ•°ã€‚ å¦‚æœè¦æ˜¾ç¤ºè®¾ç½®ä¸€ä¸ªå¸ƒå°”é€‰é¡¹ä¸ºfalseï¼Œåªèƒ½ä½¿ç”¨-flag=falseè¿™ç§å½¢å¼ã€‚\né‡åˆ°ç¬¬ä¸€ä¸ªéé€‰é¡¹å‚æ•°ï¼ˆå³ä¸æ˜¯ä»¥-å’Œ--å¼€å¤´çš„ï¼‰æˆ–ç»ˆæ­¢ç¬¦--ï¼Œè§£æåœæ­¢ã€‚è¿è¡Œä¸‹é¢ç¨‹åºï¼š\n1 $ ./main.exe noflag -intflag 12 å°†ä¼šè¾“å‡ºï¼š\n1 2 3 int flag: 0 bool flag: false string flag: default å› ä¸ºè§£æé‡åˆ°noflagå°±åœæ­¢äº†ï¼Œåé¢çš„é€‰é¡¹-intflagæ²¡æœ‰è¢«è§£æåˆ°ã€‚æ‰€ä»¥æ‰€æœ‰é€‰é¡¹éƒ½å–çš„é»˜è®¤å€¼ã€‚\nè¿è¡Œä¸‹é¢çš„ç¨‹åºï¼š\n1 $ ./main.exe -intflag 12 -- -boolflag=true å°†ä¼šè¾“å‡ºï¼š\n1 2 3 int flag: 12 bool flag: false string flag: default é¦–å…ˆè§£æäº†é€‰é¡¹intflagï¼Œè®¾ç½®å…¶å€¼ä¸º 12ã€‚é‡åˆ°--åè§£æç»ˆæ­¢äº†ï¼Œåé¢çš„--boolflag=trueæ²¡æœ‰è¢«è§£æåˆ°ï¼Œæ‰€ä»¥boolflagé€‰é¡¹å–é»˜è®¤å€¼falseã€‚\nè§£æç»ˆæ­¢ä¹‹åå¦‚æœè¿˜æœ‰å‘½ä»¤è¡Œå‚æ•°ï¼Œflagåº“ä¼šå­˜å‚¨ä¸‹æ¥ï¼Œé€šè¿‡flag.Argsæ–¹æ³•è¿”å›è¿™äº›å‚æ•°çš„åˆ‡ç‰‡ã€‚ å¯ä»¥é€šè¿‡flag.NArgæ–¹æ³•è·å–æœªè§£æçš„å‚æ•°æ•°é‡ï¼Œflag.Arg(i)è®¿é—®ä½ç½®iï¼ˆä» 0 å¼€å§‹ï¼‰ä¸Šçš„å‚æ•°ã€‚ é€‰é¡¹ä¸ªæ•°ä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨flag.NFlagæ–¹æ³•è·å–ã€‚\nç¨ç¨ä¿®æ”¹ä¸€ä¸‹ä¸Šé¢çš„ç¨‹åºï¼š\n1 2 3 4 5 6 7 8 9 10 11 func main() { flag.Parse() fmt.Println(flag.Args()) fmt.Println(\u0026#34;Non-Flag Argument Count:\u0026#34;, flag.NArg()) for i := 0; i \u0026lt; flag.NArg(); i++ { fmt.Printf(\u0026#34;Argument %d: %s\\n\u0026#34;, i, flag.Arg(i)) } fmt.Println(\u0026#34;Flag Count:\u0026#34;, flag.NFlag()) } ç¼–è¯‘è¿è¡Œè¯¥ç¨‹åºï¼š\n1 2 $ go build -o main.exe main.go $ ./main.exe -intflag 12 -- -stringflag test è¾“å‡ºï¼š\n1 2 3 4 [-stringflag test] Non-Flag Argument Count: 2 Argument 0: -stringflag Argument 1: test è§£æé‡åˆ°--ç»ˆæ­¢åï¼Œå‰©ä½™å‚æ•°-stringflag testä¿å­˜åœ¨flagä¸­ï¼Œå¯ä»¥é€šè¿‡Args/NArg/Argç­‰æ–¹æ³•è®¿é—®ã€‚\næ•´æ•°é€‰é¡¹å€¼å¯ä»¥æ¥å— 1234ï¼ˆåè¿›åˆ¶ï¼‰ã€0664ï¼ˆå…«è¿›åˆ¶ï¼‰å’Œ 0x1234ï¼ˆåå…­è¿›åˆ¶ï¼‰çš„å½¢å¼ï¼Œå¹¶ä¸”å¯ä»¥æ˜¯è´Ÿæ•°ã€‚å®é™…ä¸Šflagåœ¨å†…éƒ¨ä½¿ç”¨strconv.ParseIntæ–¹æ³•å°†å­—ç¬¦ä¸²è§£ææˆintã€‚ æ‰€ä»¥ç†è®ºä¸Šï¼ŒParseIntæ¥å—çš„æ ¼å¼éƒ½å¯ä»¥ã€‚\nå¸ƒå°”ç±»å‹çš„é€‰é¡¹å€¼å¯ä»¥ä¸ºï¼š\nå–å€¼ä¸ºtrueçš„ï¼š1ã€tã€Tã€trueã€TRUEã€Trueï¼› å–å€¼ä¸ºfalseçš„ï¼š0ã€fã€Fã€falseã€FALSEã€Falseã€‚ #\rå¦ä¸€ç§å®šä¹‰é€‰é¡¹çš„æ–¹å¼\rä¸Šé¢æˆ‘ä»¬ä»‹ç»äº†ä½¿ç”¨flag.TypeVarå®šä¹‰é€‰é¡¹ï¼Œè¿™ç§æ–¹å¼éœ€è¦æˆ‘ä»¬å…ˆå®šä¹‰å˜é‡ï¼Œç„¶åå˜é‡çš„åœ°å€ã€‚ è¿˜æœ‰ä¸€ç§æ–¹å¼ï¼Œè°ƒç”¨flag.Typeï¼ˆå…¶ä¸­Typeå¯ä»¥ä¸ºInt/Uint/Bool/Float64/String/Durationç­‰ï¼‰ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬åˆ†é…å˜é‡ï¼Œè¿”å›è¯¥å˜é‡çš„åœ°å€ã€‚ç”¨æ³•ä¸å‰ä¸€ç§æ–¹å¼ç±»ä¼¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;flag\u0026#34; ) var ( intflag *int boolflag *bool stringflag *string ) func init() { intflag = flag.Int(\u0026#34;intflag\u0026#34;, 0, \u0026#34;int flag value\u0026#34;) boolflag = flag.Bool(\u0026#34;boolflag\u0026#34;, false, \u0026#34;bool flag value\u0026#34;) stringflag = flag.String(\u0026#34;stringflag\u0026#34;, \u0026#34;default\u0026#34;, \u0026#34;string flag value\u0026#34;) } func main() { flag.Parse() fmt.Println(\u0026#34;int flag:\u0026#34;, *intflag) fmt.Println(\u0026#34;bool flag:\u0026#34;, *boolflag) fmt.Println(\u0026#34;string flag:\u0026#34;, *stringflag) } ç¼–è¯‘å¹¶è¿è¡Œç¨‹åºï¼š\n1 2 $ go build -o main.exe main.go $ ./main.exe -intflag 12 å°†è¾“å‡ºï¼š\n1 2 3 int flag: 12 bool flag: false string flag: default é™¤äº†ä½¿ç”¨æ—¶éœ€è¦è§£å¼•ç”¨ï¼Œå…¶å®ƒä¸å‰ä¸€ç§æ–¹å¼åŸºæœ¬ç›¸åŒã€‚\n#\ré«˜çº§ç”¨æ³•\r#\rå®šä¹‰çŸ­é€‰é¡¹\rflagåº“å¹¶æ²¡æœ‰æ˜¾ç¤ºæ”¯æŒçŸ­é€‰é¡¹ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ç»™æŸä¸ªç›¸åŒçš„å˜é‡è®¾ç½®ä¸åŒçš„é€‰é¡¹æ¥å®ç°ã€‚å³ä¸¤ä¸ªé€‰é¡¹å…±äº«åŒä¸€ä¸ªå˜é‡ã€‚ ç”±äºåˆå§‹åŒ–é¡ºåºä¸ç¡®å®šï¼Œå¿…é¡»ä¿è¯å®ƒä»¬æ‹¥æœ‰ç›¸åŒçš„é»˜è®¤å€¼ã€‚å¦åˆ™ä¸ä¼ è¯¥é€‰é¡¹æ—¶ï¼Œè¡Œä¸ºæ˜¯ä¸ç¡®å®šçš„ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;flag\u0026#34; ) var logLevel string func init() { const ( defaultLogLevel = \u0026#34;DEBUG\u0026#34; usage = \u0026#34;set log level value\u0026#34; ) flag.StringVar(\u0026amp;logLevel, \u0026#34;log_type\u0026#34;, defaultLogLevel, usage) flag.StringVar(\u0026amp;logLevel, \u0026#34;l\u0026#34;, defaultLogLevel, usage + \u0026#34;(shorthand)\u0026#34;) } func main() { flag.Parse() fmt.Println(\u0026#34;log level:\u0026#34;, logLevel) } ç¼–è¯‘ã€è¿è¡Œç¨‹åºï¼š\n1 2 3 $ go build -o main.exe main.go $ ./main.exe -log_type WARNING $ ./main.exe -l WARNING ä½¿ç”¨é•¿ã€çŸ­é€‰é¡¹å‡è¾“å‡ºï¼š\n1 log level: WARNING ä¸ä¼ å…¥è¯¥é€‰é¡¹ï¼Œè¾“å‡ºé»˜è®¤å€¼ï¼š\n1 2 $ ./main.exe log level: DEBUG #\rè§£ææ—¶é—´é—´éš”\ré™¤äº†èƒ½ä½¿ç”¨åŸºæœ¬ç±»å‹ä½œä¸ºé€‰é¡¹ï¼Œflagåº“è¿˜æ”¯æŒtime.Durationç±»å‹ï¼Œå³æ—¶é—´é—´éš”ã€‚æ—¶é—´é—´éš”æ”¯æŒçš„æ ¼å¼éå¸¸ä¹‹å¤šï¼Œä¾‹å¦‚\u0026quot;300ms\u0026quot;ã€\u0026quot;-1.5h\u0026quot;ã€â€œ2h45m\u0026quot;ç­‰ç­‰ç­‰ç­‰ã€‚ æ—¶é—´å•ä½å¯ä»¥æ˜¯ ns/us/ms/s/m/h/day ç­‰ã€‚å®é™…ä¸Šflagå†…éƒ¨ä¼šè°ƒç”¨time.ParseDurationã€‚å…·ä½“æ”¯æŒçš„æ ¼å¼å¯ä»¥å‚è§timeï¼ˆéœ€fqï¼‰åº“çš„æ–‡æ¡£ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 package main import ( \u0026#34;flag\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) var ( period time.Duration ) func init() { flag.DurationVar(\u0026amp;period, \u0026#34;period\u0026#34;, 1*time.Second, \u0026#34;sleep period\u0026#34;) } func main() { flag.Parse() fmt.Printf(\u0026#34;Sleeping for %v...\u0026#34;, period) time.Sleep(period) fmt.Println() } æ ¹æ®ä¼ å…¥çš„å‘½ä»¤è¡Œé€‰é¡¹periodï¼Œç¨‹åºç¡çœ ç›¸åº”çš„æ—¶é—´ï¼Œé»˜è®¤ 1 ç§’ã€‚ç¼–è¯‘ã€è¿è¡Œç¨‹åºï¼š\n1 2 3 4 5 6 $ go build -o main.exe main.go $ ./main.exe Sleeping for 1s... $ ./main.exe -period 1m30s Sleeping for 1m30s... #\rè‡ªå®šä¹‰é€‰é¡¹\ré™¤äº†ä½¿ç”¨flagåº“æä¾›çš„é€‰é¡¹ç±»å‹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è‡ªå®šä¹‰é€‰é¡¹ç±»å‹ã€‚æˆ‘ä»¬åˆ†æä¸€ä¸‹æ ‡å‡†åº“ä¸­æä¾›çš„æ¡ˆä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 package main import ( \u0026#34;errors\u0026#34; \u0026#34;flag\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;strings\u0026#34; \u0026#34;time\u0026#34; ) type interval []time.Duration func (i *interval) String() string { return fmt.Sprint(*i) } func (i *interval) Set(value string) error { if len(*i) \u0026gt; 0 { return errors.New(\u0026#34;interval flag already set\u0026#34;) } for _, dt := range strings.Split(value, \u0026#34;,\u0026#34;) { duration, err := time.ParseDuration(dt) if err != nil { return err } *i = append(*i, duration) } return nil } var ( intervalFlag interval ) func init() { flag.Var(\u0026amp;intervalFlag, \u0026#34;deltaT\u0026#34;, \u0026#34;comma-seperated list of intervals to use between events\u0026#34;) } func main() { flag.Parse() fmt.Println(intervalFlag) } é¦–å…ˆå®šä¹‰ä¸€ä¸ªæ–°ç±»å‹ï¼Œè¿™é‡Œå®šä¹‰ç±»å‹intervalã€‚\næ–°ç±»å‹å¿…é¡»å®ç°flag.Valueæ¥å£ï¼š\n1 2 3 4 5 // src/flag/flag.go type Value interface { String() string Set(string) error } å…¶ä¸­Stringæ–¹æ³•æ ¼å¼åŒ–è¯¥ç±»å‹çš„å€¼ï¼Œflag.Parseæ–¹æ³•åœ¨æ‰§è¡Œæ—¶é‡åˆ°è‡ªå®šä¹‰ç±»å‹çš„é€‰é¡¹ä¼šå°†é€‰é¡¹å€¼ä½œä¸ºå‚æ•°è°ƒç”¨è¯¥ç±»å‹å˜é‡çš„Setæ–¹æ³•ã€‚ è¿™é‡Œå°†ä»¥,åˆ†éš”çš„æ—¶é—´é—´éš”è§£æå‡ºæ¥å­˜å…¥ä¸€ä¸ªåˆ‡ç‰‡ä¸­ã€‚\nè‡ªå®šä¹‰ç±»å‹é€‰é¡¹çš„å®šä¹‰å¿…é¡»ä½¿ç”¨flag.Varæ–¹æ³•ã€‚\nç¼–è¯‘ã€æ‰§è¡Œç¨‹åºï¼š\n1 2 3 4 5 $ go build -o main.exe main.go $ ./main.exe -deltaT 30s [30s] $ ./main.exe -deltaT 30s,1m,1m30s [30s 1m0s 1m30s] å¦‚æœæŒ‡å®šçš„é€‰é¡¹å€¼éæ³•ï¼ŒSetæ–¹æ³•è¿”å›ä¸€ä¸ªerrorç±»å‹çš„å€¼ï¼ŒParseæ‰§è¡Œç»ˆæ­¢ï¼Œæ‰“å°é”™è¯¯å’Œä½¿ç”¨å¸®åŠ©ã€‚\n1 2 3 4 5 $ ./main.exe -deltaT 30x invalid value \u0026#34;30x\u0026#34; for flag -deltaT: time: unknown unit x in duration 30x Usage of D:\\code\\golang\\src\\github.com\\darjun\\go-daily-lib\\flag\\self-defined\\main.exe: -deltaT value comma-seperated list of intervals to use between events #\rè§£æç¨‹åºä¸­çš„å­—ç¬¦ä¸²\ræœ‰æ—¶å€™é€‰é¡¹å¹¶ä¸æ˜¯é€šè¿‡å‘½ä»¤è¡Œä¼ é€’çš„ã€‚ä¾‹å¦‚ï¼Œä»é…ç½®è¡¨ä¸­è¯»å–æˆ–ç¨‹åºç”Ÿæˆçš„ã€‚è¿™æ—¶å€™å¯ä»¥ä½¿ç”¨flag.FlagSetç»“æ„çš„ç›¸å…³æ–¹æ³•æ¥è§£æè¿™äº›é€‰é¡¹ã€‚\nå®é™…ä¸Šï¼Œæˆ‘ä»¬å‰é¢è°ƒç”¨çš„flagåº“çš„æ–¹æ³•ï¼Œéƒ½ä¼šé—´æ¥è°ƒç”¨FlagSetç»“æ„çš„æ–¹æ³•ã€‚flagåº“ä¸­å®šä¹‰äº†ä¸€ä¸ªFlagSetç±»å‹çš„å…¨å±€å˜é‡CommandLineä¸“é—¨ç”¨äºè§£æå‘½ä»¤è¡Œé€‰é¡¹ã€‚ å‰é¢è°ƒç”¨çš„flagåº“çš„æ–¹æ³•åªæ˜¯ä¸ºäº†æä¾›ä¾¿åˆ©ï¼Œå®ƒä»¬å†…éƒ¨éƒ½æ˜¯è°ƒç”¨çš„CommandLineçš„ç›¸åº”æ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 // src/flag/flag.go var CommandLine = NewFlagSet(os.Args[0], ExitOnError) func Parse() { CommandLine.Parse(os.Args[1:]) } func IntVar(p *int, name string, value int, usage string) { CommandLine.Var(newIntValue(value, p), name, usage) } func Int(name string, value int, usage string) *int { return CommandLine.Int(name, value, usage) } func NFlag() int { return len(CommandLine.actual) } func Arg(i int) string { return CommandLine.Arg(i) } func NArg() int { return len(CommandLine.args) } åŒæ ·çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»ºFlagSetç±»å‹å˜é‡æ¥è§£æé€‰é¡¹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 package main import ( \u0026#34;flag\u0026#34; \u0026#34;fmt\u0026#34; ) func main() { args := []string{\u0026#34;-intflag\u0026#34;, \u0026#34;12\u0026#34;, \u0026#34;-stringflag\u0026#34;, \u0026#34;test\u0026#34;} var intflag int var boolflag bool var stringflag string fs := flag.NewFlagSet(\u0026#34;MyFlagSet\u0026#34;, flag.ContinueOnError) fs.IntVar(\u0026amp;intflag, \u0026#34;intflag\u0026#34;, 0, \u0026#34;int flag value\u0026#34;) fs.BoolVar(\u0026amp;boolflag, \u0026#34;boolflag\u0026#34;, false, \u0026#34;bool flag value\u0026#34;) fs.StringVar(\u0026amp;stringflag, \u0026#34;stringflag\u0026#34;, \u0026#34;default\u0026#34;, \u0026#34;string flag value\u0026#34;) fs.Parse(args) fmt.Println(\u0026#34;int flag:\u0026#34;, intflag) fmt.Println(\u0026#34;bool flag:\u0026#34;, boolflag) fmt.Println(\u0026#34;string flag:\u0026#34;, stringflag) } NewFlagSetæ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç¨‹åºåç§°ï¼Œè¾“å‡ºå¸®åŠ©æˆ–å‡ºé”™æ—¶ä¼šæ˜¾ç¤ºè¯¥ä¿¡æ¯ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯è§£æå‡ºé”™æ—¶å¦‚ä½•å¤„ç†ï¼Œæœ‰å‡ ä¸ªé€‰é¡¹ï¼š\nContinueOnErrorï¼šå‘ç”Ÿé”™è¯¯åç»§ç»­è§£æï¼ŒCommandLineå°±æ˜¯ä½¿ç”¨è¿™ä¸ªé€‰é¡¹ï¼› ExitOnErrorï¼šå‡ºé”™æ—¶è°ƒç”¨os.Exit(2)é€€å‡ºç¨‹åºï¼› PanicOnErrorï¼šå‡ºé”™æ—¶äº§ç”Ÿ panicã€‚ éšä¾¿çœ‹ä¸€çœ¼flagåº“ä¸­çš„ç›¸å…³ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 // src/flag/flag.go func (f *FlagSet) Parse(arguments []string) error { f.parsed = true f.args = arguments for { seen, err := f.parseOne() if seen { continue } if err == nil { break } switch f.errorHandling { case ContinueOnError: return err case ExitOnError: os.Exit(2) case PanicOnError: panic(err) } } return nil } ä¸ç›´æ¥ä½¿ç”¨flagåº“çš„æ–¹æ³•æœ‰ä¸€ç‚¹ä¸åŒï¼ŒFlagSetè°ƒç”¨Parseæ–¹æ³•æ—¶éœ€è¦æ˜¾ç¤ºä¼ å…¥å­—ç¬¦ä¸²åˆ‡ç‰‡ä½œä¸ºå‚æ•°ã€‚å› ä¸ºflag.Parseåœ¨å†…éƒ¨è°ƒç”¨äº†CommandLine.Parse(os.Args[1:])ã€‚ ç¤ºä¾‹ä»£ç éƒ½æ”¾åœ¨GitHubä¸Šäº†ã€‚\n#\rå‚è€ƒ\rflagåº“æ–‡æ¡£ Go æ¯æ—¥ä¸€åº“ä¹‹ flag ","date":"2024-04-22T18:02:17+08:00","permalink":"https://arlettebrook.github.io/p/go-flag%E5%BA%93%E4%BB%8B%E7%BB%8D/","title":"Go Flagåº“ä»‹ç»"},{"content":"\r#\ré™æ€ç½‘é¡µç”Ÿæˆå™¨\ræ— è®ºæ‚¨éœ€è¦æ­å»ºä¸ªäººåšå®¢è¿˜æ˜¯ä¸ºæ‚¨çš„é¡¹ç›®åˆ›å»ºæ–‡æ¡£ï¼Œé™æ€ç½‘é¡µç”Ÿæˆå™¨ï¼ˆstatic site generatorï¼‰éƒ½æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚æ— éœ€æœåŠ¡å™¨ã€æ•°æ®åº“ï¼Œåªè¦ä½ ç†Ÿæ‚‰ Markdownï¼Œå–œæ¬¢GitHubï¼Œä½¿ç”¨ç”Ÿæˆå™¨åˆ›å»ºé™æ€ HTML æ–‡ä»¶ï¼Œç„¶åæ¨é€åˆ° GitHub Pages ç­‰å…è´¹æœåŠ¡å³å¯ã€‚\n#\rå¸¸è§çš„é™æ€ç½‘é¡µç”Ÿæˆå™¨\rHugoæ˜¯ç”±Goè¯­è¨€å®ç°çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ã€‚ç®€å•ã€æ˜“ç”¨ã€é«˜æ•ˆã€æ˜“æ‰©å±•ã€å¿«é€Ÿéƒ¨ç½²ã€‚ jekyll æ˜¯ä¸€ä¸ªé™æ€ç½‘é¡µã€åšå®¢ç”Ÿæˆå™¨ vuepressæ˜¯åŸºäº Vue çš„é™æ€ç½‘é¡µç”Ÿæˆå™¨ Hexo æ˜¯ä¸€ä¸ªç”±Nodejsé©±åŠ¨çš„å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚Hexo ä½¿ç”¨ Markdownï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚ å‚è€ƒï¼šé™æ€ç½‘é¡µç”Ÿæˆå™¨\n#\rå¿«é€Ÿä½¿ç”¨Hugoæ­å»ºä¸ªäººåšå®¢ç«™ç‚¹\r#\rå®‰è£…Hugo\ræ ¹æ®è‡ªå·±çš„æ“ä½œç³»ç»Ÿï¼Œä¸‹è½½å·²ç»æ„å»ºå¥½çš„HugoäºŒè¿›åˆ¶æ–‡ä»¶å®˜æ–¹åœ°å€\nå®˜æ–¹æ¨èä¸‹è½½æ‰©å±•ç‰ˆï¼Œæ”¯æŒçš„åŠŸèƒ½æ›´å¤š è§£å‹ä¹‹åï¼Œå°†hugoå¯æ‰§è¡Œæ–‡ä»¶åŠ å…¥åˆ°PATHç¯å¢ƒå˜é‡ä¸­ï¼Œå³å¯ä½¿ç”¨\n1 2 3 hugo version # æŸ¥çœ‹ç‰ˆæœ¬ï¼Œæ‰©å±•ç‰ˆå«è¿™ä¸ªextendedæ ‡ç­¾ hugo -h # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ hugo subcommand -h # è·å–å­å‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ #\rä½¿ç”¨Hugo\rhugoéœ€è¦é…åˆgitä¸€èµ·ä½¿ç”¨ï¼Œå¹¶ä¸”å®˜æ–¹æ¨èä½¿ç”¨bashä½œä¸ºç»ˆç«¯\nåˆ›å»ºé¡¹ç›®å¹¶å®‰è£…ä¸»é¢˜hugo-theme-stack\n1 2 3 4 5 hugo new site quickstart # åˆ›å»ºç›®å½•ç»“æ„ cd quickstart git init git submodule add https://github.com/CaiJimmy/hugo-theme-stack/ themes/hugo-theme-stack # å®‰è£…ä¸»é¢˜ æ·»åŠ å†…å®¹å¹¶ä½¿ç”¨å®‰è£…ä¸»é¢˜çš„é»˜è®¤é…ç½®\nä½¿ç”¨å®‰è£…ä¸»é¢˜çš„å®ä¾‹è¿›è¡Œå¿«é€Ÿæ·»åŠ å†…å®¹ åªéœ€è¦è¿›å…¥ä¸»é¢˜æ–‡ä»¶ä¸­çš„exampleSiteä¸­çš„contentæ‹·è´åˆ°quickstartæ ¹ç›®å½•ä¸­ åŒç†ï¼Œåœ¨ä¸»é¢˜æ–‡ä»¶ä¸­çš„exampleSiteä¸­çš„hugo.yamlæ‹·è´åˆ°quickstartæ ¹ç›®å½•ä¸­ï¼Œé‡å‘½åä¸º,å¹¶åˆ é™¤hugo.toml æœ€åè¿è¡Œ\n1 2 hugo server # æœ¬åœ°å¯åŠ¨ä¸€ä¸ªhttpæœåŠ¡å™¨ï¼Œä¾¿äºå¼€å‘å’Œæµ‹è¯•ç«™ç‚¹ï¼Œé»˜è®¤çƒ­æ›´æ–° hugo server --navigateToChanged # è‡ªåŠ¨é‡å®šå‘ï¼šç¼–è¾‘å†…å®¹æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨é‡å®šå‘åˆ°ä¸Šæ¬¡ä¿®æ”¹çš„é¡µé¢ ä¼šä½¿ç”¨åˆ°çš„å‘½ä»¤\n1 2 3 4 5 6 7 8 9 10 11 hugo new content post/fist-post.md # ä¼šåœ¨contentç›®å½•ä¸‹åˆ›å»ºpost/fist-post.mdæ–‡ä»¶ # æ‰§è¡Œå®Œåï¼Œä¼šåœ¨content/postç›®å½•è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªMarkDownæ ¼å¼çš„first.mdæ–‡ä»¶ï¼š +++ date = \u0026#34;2015-01-08T08:36:54-07:00\u0026#34; draft = true title = \u0026#34;Fist Post\u0026#34; +++ # draft é»˜è®¤ä¸ºtrueï¼Œæ„å»ºç½‘ç«™æ—¶ä¸ä¼šæ„å»ºè¯¥æ–‡æ¡£ # è¦æ„å»ºè‰ç¨¿æ–‡æ¡£å¯ä»¥ç”¨-Dæˆ–--buildDraftsé€‰é¡¹å¯åŠ¨æœåŠ¡ hugo server -D # title é»˜è®¤ä¸ºæ–‡ä»¶åé¦–å­—æ¯å¤§å†™ æ„å»ºå‘½ä»¤\nè¿›å…¥é¡¹ç›®ç›®å½•ï¼Œè¿è¡Œ\n1 hugo hugoå‘½ä»¤ä¼šæ„å»ºç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œä¼šå°†æ–‡ä»¶å‘å¸ƒé¡¹ç›®çš„publicç›®å½•ä¸‹\nè¦å°†ç«™ç‚¹å‘å¸ƒåˆ°å…¶ä»–ç›®å½•ï¼Œè¯·ä½¿ç”¨è¯¥æ ‡å¿—--destinationæˆ–åœ¨ç«™ç‚¹é…ç½®ä¸­è®¾ç½®publishDir\næ³¨æ„ï¼šæ¯æ¬¡æ„å»ºä¸ä¼šæ¸…ç©ºpublicç›®å½•ï¼Œåªä¼šè¦†ç›–æ—§å†…å®¹ã€‚\nè¿™æ ·åšæ˜¯ä¸ºäº†é˜²æ­¢ï¼Œæ„å»ºä¹‹åé¢åœ¨publicæ·»åŠ çš„æ–‡ä»¶è¢«åˆ é™¤\nè‰ç¨¿ã€æœªæ¥å’Œè¿‡æœŸå†…å®¹\nHugo å…è®¸åœ¨å†…å®¹çš„å‰é¢è®¾ç½®draftã€dateã€publishDateå’ŒexpiryDateã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒHugo åœ¨ä»¥ä¸‹æƒ…å†µä¸‹ä¸ä¼šå‘å¸ƒå†…å®¹ï¼š\nå…¶draftå€¼ä¸ºtrue\næ˜¯dateåœ¨æœªæ¥\næ˜¯publishDateåœ¨æœªæ¥\nå·²ç»expiryDateè¿‡å»äº†\nä¸‹é¢çš„è¡Œä¸ºå¯ä»¥å–æ¶ˆ\n1 2 3 hugo --buildDrafts # or -D hugo --buildExpired # or -E hugo --buildFuture # or -F æ³¨æ„ï¼šå½“è¿™æ ·æ„å»ºä¹‹åï¼Œéœ€è¦æ‰‹åŠ¨åˆ é™¤ä¸æœŸæœ›æ„å»ºçš„æ–‡ä»¶ï¼Œåœ¨æ¨é€ç«™ç‚¹\nå¦åˆ™å½“æ¨é€åˆ°è¿œç¨‹ä¼šå‡ºç°æ„å¤–çš„å†…å®¹\næ‰€ä»¥å»ºè®®è¿è¡Œä¸Šé¢çš„å‘½ä»¤ä¹‹åï¼Œå‰æpublicä¸­æ²¡æœ‰æ‰‹åŠ¨æ·»åŠ çš„æ–‡ä»¶ï¼Œåœ¨æ„å»ºä¹‹å‰æ‰‹åŠ¨æ¸…ç©ºpublicç›®å½•ï¼Œé˜²æ­¢å‡ºç°è‰ç¨¿ã€è¿‡æœŸå’Œæœªæ¥çš„å†…å®¹\næœ€åå°†publicä¸­çš„æ‰€ä»¥æ–‡ä»¶æ¨é€åˆ°é™æ€ç½‘ç«™æ‰˜ç®¡å¹³å°å³å¯\nä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½² æ›´å¤šå†…å®¹å‚è€ƒï¼š\nä½¿ç”¨hugoæ­å»ºä¸ªäººåšå®¢ç«™ç‚¹ ï¼ˆ1ï¼‰å¸¦ç€Stackä¸»é¢˜å…¥å‘Hugo ï¼ˆ2ï¼‰éƒ¨ç½²ä½ çš„Hugoåšå®¢ ï¼ˆ3ï¼‰Stackä¸»é¢˜çš„è‡ªå®šä¹‰ è‡ªå®šä¹‰ä¸»é¢˜æ·»åŠ äº†assets/scssã€layouts/_default/ã€layouts/index.html,ä¸ç”¨äº†åˆ äº†å°±è¡Œ #\rç›®å½•ç»“æ„\rarchetypesç›®å½•åŒ…å«æ–°å†…å®¹çš„æ¨¡æ¿\nç›®å½•ä¸‹çš„default.mdç”±æ ‡è®°ï¼ˆmarkdownï¼‰å’Œå†…å®¹æ ¼å¼\nå†…å®¹æ ¼å¼ï¼š\u0026mdash;yaml\u0026mdash;ã€+++toml+++ã€{json}\n1 2 3 4 5 --- # +++/{ date: \u0026#39;{{ .Date }}\u0026#39; # yaml draft: true title: \u0026#39;{{ replace .File.ContentBaseName `-` ` ` | title }}\u0026#39; --- # +++/{ å½“è¿è¡Œhugo new content post/my-first-post.mdå‘½ä»¤æ—¶ä¼šæ ¹æ®default.mdåˆ›å»ºå†…å®¹æ–‡ä»¶\n1 2 3 4 5 --- date: \u0026#34;2023-08-24T11:49:46-07:00\u0026#34; draft: true title: My First Post --- å¯ä»¥åˆ›å»ºæ–°å†…å®¹çš„æ¨¡ç‰ˆ\n1 2 3 archetypes/ â”œâ”€â”€ default.md â””â”€â”€ post.md è‹¥è¿è¡Œhugo new content post/my-first-post.mdæŸ¥æ‰¾æ¨¡ç‰ˆçš„é¡ºåº archetypes/post.md archetypes/default.md themes/my-theme/archetypes/post.md themes/my-theme/archetypes/default.md å¦‚æœè¿™äº›éƒ½ä¸å­˜åœ¨ï¼ŒHugo å°†ä½¿ç”¨å†…ç½®çš„é»˜è®¤åŸå‹ assetsç›®å½•åŒ…å«é€šå¸¸é€šè¿‡èµ„äº§ç®¡é“ä¼ é€’çš„å…¨å±€èµ„æºï¼ŒåŒ…æ‹¬å›¾åƒã€CSSã€Sassã€JavaScript å’Œ TypeScript ç­‰èµ„æºã€‚\nconfigç›®å½•åŒ…å«ç«™ç‚¹é…ç½®ï¼Œå¯èƒ½åˆ†ä¸ºå¤šä¸ªå­ç›®å½•å’Œæ–‡ä»¶ã€‚å¯¹äºå…·æœ‰æœ€å°‘é…ç½®çš„é¡¹ç›®æˆ–ä¸éœ€è¦åœ¨ä¸åŒç¯å¢ƒä¸­è¡¨ç°ä¸åŒçš„é¡¹ç›®ï¼Œhugo.tomlåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­å‘½åçš„å•ä¸ªé…ç½®æ–‡ä»¶å°±è¶³å¤Ÿäº†\ncontentç›®å½•åŒ…å«æ„æˆç«™ç‚¹å†…å®¹çš„æ ‡è®°æ–‡ä»¶ï¼ˆé€šå¸¸æ˜¯ Markdownï¼‰å’Œé¡µé¢èµ„æºã€‚\nå¯¹åº”stackä¸»é¢˜ï¼š postå­˜æ”¾å‘å¸ƒçš„æ–‡ç« æ ¼å¼md pageå­˜æ”¾å¯¼èˆªåŒºåŸŸçš„mdæ ¼å¼é…ç½® ä¸åŒçš„è¯­è¨€ç»“å°¾ç”¨.en.mdç­‰è¡¨ç¤º æ ¹æ®æ¨¡ç‰ˆè¿›è¡Œä¿®æ”¹å³å¯ï¼Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚ï¼Œæ²¡æœ‰çš„éœ€è¦è‡ªå·±è¡¥å……å’Œä¿®æ”¹æ–‡ä»¶å†…å®¹ categorieså­˜æ”¾ç±»åˆ«çš„mdæ ¼å¼é…ç½® dataç›®å½•åŒ…å«å¢å¼ºå†…å®¹ã€é…ç½®ã€æœ¬åœ°åŒ–å’Œå¯¼èˆªçš„æ•°æ®æ–‡ä»¶ï¼ˆJSONã€TOMLã€YAML æˆ– XMLï¼‰ã€‚\ni18nç›®å½•åŒ…å«å¤šè¯­è¨€ç«™ç‚¹çš„ç¿»è¯‘è¡¨ã€‚\ncontentç›®å½•åŒ…å«å°†å†…å®¹ã€æ•°æ®å’Œèµ„æºè½¬æ¢ä¸ºå®Œæ•´ç½‘ç«™çš„æ¨¡æ¿ã€‚\npublicç›®å½•åŒ…å«è¿è¡Œhugoæˆ–hugo serverå‘½ä»¤æ—¶ç”Ÿæˆçš„å·²å‘å¸ƒç½‘ç«™ã€‚ Hugo æ ¹æ®éœ€è¦é‡æ–°åˆ›å»ºè¯¥ç›®å½•åŠå…¶å†…å®¹\nresourcesç›®å½•åŒ…å« Hugo èµ„äº§ç®¡é“çš„ç¼“å­˜è¾“å‡ºï¼Œè¿™äº›è¾“å‡ºæ˜¯åœ¨è¿è¡Œhugoæˆ–hugo serverå‘½ä»¤æ—¶ç”Ÿæˆçš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤ç¼“å­˜ç›®å½•åŒ…æ‹¬ CSS å’Œå›¾åƒã€‚ Hugo æ ¹æ®éœ€è¦é‡æ–°åˆ›å»ºè¯¥ç›®å½•åŠå…¶å†…å®¹ã€‚\nstaticç›®å½•åŒ…å«åœ¨æ‚¨æ„å»ºç«™ç‚¹æ—¶å°†å¤åˆ¶åˆ°å…¬å…±ç›®å½•çš„æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼šfavicon.icoã€robots.txtå’Œ éªŒè¯ç«™ç‚¹æ‰€æœ‰æƒçš„æ–‡ä»¶.ä¸assetså·®ä¸å¤š\nthemesç›®å½•åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªä¸»é¢˜ï¼Œæ¯ä¸ªä¸»é¢˜éƒ½ä½äºå…¶è‡ªå·±çš„å­ç›®å½•ä¸­ã€‚\nè”åˆæ–‡ä»¶ç³»ç»Ÿï¼š\nè¿™æ ·ç†è§£ï¼šå®‰è£…çš„ä¸»é¢˜é‡Œé¢åŒæ ·æœ‰è‡ªå·±ç«™ç‚¹çš„ç›®å½•ç»“æ„ï¼Œhugoæ„å»ºæ—¶ä¼šå°†ä¸»é¢˜é‡Œé¢çš„æ–‡ä»¶æŒ‚è½½åˆ°ç«™ç‚¹ï¼Œä¼˜å…ˆçº§æ˜¯ç«™ç‚¹çš„é«˜ #\ré…ç½®æ–‡ä»¶\rhugoæ”¯æŒä¸‰ç§é…ç½®æ–‡ä»¶hugo.tomalã€hugo.yamlã€hugo.jsonï¼Œå–œæ¬¢ç”¨é‚£ä¸ªå°±ç”¨é‚£ä¸ªã€‚\næ¯ç§æ–‡ä»¶æ ¼å¼çš„è§„èŒƒï¼šTOMLã€YAMLå’ŒJSONã€‚\né…ç½®æ–‡ä»¶å¯ä»¥æœ‰å¤šä¸ªï¼Œå¯ä»¥æ”¾åˆ°configç›®å½•ä¸‹ï¼Œé»˜è®¤éƒ½æ˜¯ä½¿ç”¨hugoå¼€å¤´çš„æ–‡ä»¶\næŒ‡å®šé…ç½®æ–‡ä»¶æ„å»º\n1 2 hugo server --config other.toml hugo --config a.toml,b.yaml,c.json # å¯ä»¥æŒ‡å®šå¤šä¸ªï¼Œå·¦è¾¹çš„ä¼˜å…ˆçº§é«˜ æ›´å¤šå†…å®¹é…ç½®å‚è€ƒ\né¢å¤–çš„ä¸€äº›å…³äºé…ç½®æ–‡ä»¶çš„æ€»ç»“\né»˜è®¤è¯­è¨€ä¿®æ”¹ä¸ºzh-cnï¼Œæ„å‘³ç€index.mdè¡¨ç¤ºä¸­æ–‡ï¼Œindex.zh-cn.mdä¹Ÿè¡¨ç¤ºä¸­æ–‡ï¼Œæ­¤æ—¶çš„è‹±æ–‡è¦ç”¨index.en.mdè¡¨ç¤º æ›´å¤šå†…å®¹å‚è€ƒï¼š\nHugoå®˜æ–¹æ–‡æ¡£ Hugoä¸­æ–‡æ–‡æ¡£ Hugo theme #\ræ–‡ç« è¯„è®º\rä½¿ç”¨Walineï¼Œå…¶æ•™ç¨‹å¾ˆå®Œæ•´ã€‚\næ ¹æ®Walineæ•™ç¨‹ä»å¤´å®Œæˆåˆ°ä½¿ç”¨Verceléƒ¨ç½²å®Œæˆã€‚\næœ€ååœ¨config.yamlä¸­çš„walineçš„serverURLç»™ä¸Šä½ çš„VercelæœåŠ¡å™¨åœ°å€ã€‚\nä»¥åŠå¼€å¯è¯„è®ºï¼Œæœ€åwalineè¿˜å¯ä»¥é…ç½®è¯„è®ºé€šçŸ¥æ¸ é“ã€‚\nå°†cloudflareè§£æçš„åŸŸåç»‘å®šåˆ°vercelæ–‡æ¡£ æ¦‚æ‹¬ï¼šæ·»åŠ ä¸€æ¡CNAMEè®°å½•å€¼ä¸ºcname.vercel-dns.comï¼Œå¼€å¯ä»£ç†ï¼Œå°†SSL/TLSä¿®æ”¹ä¸ºå®Œå…¨ å°†cloudflareè§£æçš„åŸŸåç»‘å®šåˆ°github-pagesæ–‡æ¡£ æ¦‚æ‹¬ï¼šæ·»åŠ ä¸€æ¡å­åŸŸï¼Œç±»å‹CNAMEè®°å½•å€¼ä¸ºusername.github.ioï¼Œå¼€å¯ä»£ç†ï¼Œå°†SSL/TLSä¿®æ”¹ä¸ºå®Œå…¨,usernameä¸ºä½ çš„ç”¨æˆ·å æ›´å¤šå†…å®¹è¯·æŸ¥é˜…æ–‡æ¡£ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 comments: enabled: true provider: waline waline: serverURL: url lang: zh-cn pageview: true copyright: false emoji: - https://unpkg.com/@waline/emojis@1.0.1/weibo requiredMeta: - name - email locale: admin: ğŸ‘»Hi! placeholder: ğŸ‰ç•™ä¸‹ä½ çš„è„šå°... #\ræœç´¢å¼•æ“ä¼˜åŒ–ï¼ˆSEOï¼‰\ræœ¬ç½‘ç«™ä½¿ç”¨Hugoæ­å»ºï¼Œè€Œä¸”ä½¿ç”¨çš„stackä¸»é¢˜æ”¯æŒè‡ªåŠ¨ç”ŸæˆåŸºäºOpen Graphåè®®ï¼ˆOGåè®®ï¼‰çš„æ ‡ç­¾ï¼Œæ­¤å¤„è®°å½•ä¸€ä¸‹å¦‚ä½•åœ¨Hugoæ­å»ºçš„ç½‘ç«™ä¸­åšæœç´¢å¼•æ“ä¼˜åŒ–ï¼ˆSEOï¼‰ã€‚\nç›®çš„ï¼šæå‡ç½‘ç«™åœ¨æœç´¢å¼•æ“ä¸­çš„æ’å\nOpen Graphï¼ˆå¼€æ”¾å›¾è°±ï¼‰åè®®ï¼Œç®€ç§°OGåè®®ï¼Œæ˜¯Facebookåœ¨2010å¹´å…¬å¸ƒçš„ä¸€é¡¹åè®®ï¼Œç”¨æ¥æ ‡è®°ç½‘é¡µå†…å®¹ã€‚ç®€å•æ¥è®²ï¼ŒOGåè®®å°±æ˜¯åµŒåœ¨ç½‘é¡µå¤´éƒ¨çš„ä¸€äº›æ ‡ç­¾ï¼Œè¿™äº›æ ‡ç­¾æ ‡è®°äº†ç½‘é¡µçš„æ ‡é¢˜ã€æè¿°ç­‰ç‰¹å¾ï¼Œä½¿å¾—ç½‘é¡µæˆä¸ºä¸€ä¸ªâ€œå¯Œåª’ä½“å¯¹è±¡â€ï¼Œå¯ä»¥è¢«å…¶ä»–ç¤¾äº¤ç½‘ç«™å¼•ç”¨ã€‚\nå¾ˆå¤šæœç´¢å¼•æ“éƒ½æ”¯æŒOGåè®®ï¼Œåœ¨ç½‘é¡µä¸­ä½¿ç”¨OGåè®®çš„æ ‡ç­¾ï¼Œå°±æ›´æœ‰åˆ©äºæå‡æˆ‘ä»¬çš„ç½‘é¡µåœ¨æœç´¢å¼•æ“ä¸­çš„æ’åã€‚\nOGåè®®çš„æ ‡ç­¾åœ¨ç½‘é¡µä¸­é€šå¸¸è¡¨ç¤ºä¸ºç±»ä¼¼ä¸‹é¢æ‰€ç¤ºçš„æ ¼å¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 \u0026lt;meta property=\u0026#34;og:title\u0026#34; content=\u0026#34;The Rock\u0026#34; /\u0026gt; \u0026lt;meta property=\u0026#34;og:type\u0026#34; content=\u0026#34;video.movie\u0026#34; /\u0026gt; \u0026lt;meta property=\u0026#34;og:url\u0026#34; content=\u0026#34;https://www.imdb.com/title/tt0117500/\u0026#34; /\u0026gt; \u0026lt;meta property=\u0026#34;og:image\u0026#34; content=\u0026#34;https://ia.media-imdb.com/images/rock.jpg\u0026#34; /\u0026gt; \u0026lt;meta property=\u0026#39;og:url\u0026#39; content=\u0026#39;https://arlettebrook.github.io/search/\u0026#39;\u0026gt; \u0026lt;meta property=\u0026#39;og:site_name\u0026#39; content=\u0026#39;Arlettebrook\u0026amp;#39;s blog\u0026#39;\u0026gt; \u0026lt;meta property=\u0026#39;og:type\u0026#39; content=\u0026#39;article\u0026#39;\u0026gt;\u0026lt;meta property=\u0026#39;article:section\u0026#39; content=\u0026#39;P age\u0026#39; /\u0026gt; -\u0026lt;meta name=\u0026#34;twitter:title\u0026#34; content=\u0026#34;æœç´¢\u0026#34;\u0026gt; +\u0026lt;meta name=\u0026#34;twitter:site\u0026#34; content=\u0026#34;@arlettebrook\u0026#34;\u0026gt; + \u0026lt;meta name=\u0026#34;twitter:creator\u0026#34; content=\u0026#34;@arlettebrook\u0026#34;\u0026gt;\u0026lt;meta name=\u0026#34;twitter:title\u0026#34; co ntent=\u0026#34;æœç´¢\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;twitter:description\u0026#34; content=\u0026#34;\u0026#34;\u0026gt;\u0026lt;link rel=\u0026#34;alternate\u0026#34; type=\u0026#34;application/js on\u0026#34; href=\u0026#34;https://arlettebrook.github.io/search/index.json\u0026#34;\u0026gt; \u0026lt;link rel=\u0026#34;shortcut icon\u0026#34; href=\u0026#34;/img/favicon.ico\u0026#34; /\u0026gt; stackä¸»é¢˜æä¾›äº†å¯¹OGåè®®çš„æ”¯æŒï¼Œåªéœ€è¦åœ¨ç½‘ç«™æ ¹ç›®å½•ä¸‹çš„config/_default/params.en.yamlå’Œconfig/_default/params.zh-cn.yamlé…ç½®æ–‡ä»¶ä¸­å¼€å¯å³å¯ï¼š\n1 2 3 4 5 6 7 opengraph: twitter: # Your Twitter username site: JinliCyou # Available values: summary, summary_large_image card: summary_large_image è¿™æ ·ï¼ŒHugoåœ¨ç”Ÿæˆå’Œéƒ¨ç½²ç½‘ç«™æ—¶å°±ä¼šåœ¨ç½‘é¡µHTMLæ–‡ä»¶ä¸­è‡ªåŠ¨åµŒå…¥OGæ ‡ç­¾ã€‚\nå‚è€ƒï¼šä¸ªäººç½‘ç«™çš„å»ºç«‹è¿‡ç¨‹ï¼ˆå››ï¼‰ï¼šç½‘ç«™çš„æœç´¢å¼•æ“ä¼˜åŒ–ï¼ˆSEOï¼‰\n#\ré¢å¤–çš„ä¸€äº›çŸ¥è¯†\rgh-pages æ˜¯GitHub æ‰€æä¾›çš„ä¸€ä¸ªæœåŠ¡ï¼Œç®€å•æ¥è®²å°±æ˜¯å¯ä»¥è®©ä½ ä¸ç”¨èŠ±é’±ä¹Ÿå¯ä»¥éƒ¨ç½²ä¸€ä¸ªé™æ€ç½‘é¡µä½œä¸ºå±•ç¤ºç”¨ï¼Œå› æ­¤å¯¹äºå‰ç«¯å·¥ç¨‹å¸ˆæ¥è®²å°±éå¸¸æ–¹ä¾¿è€Œä¸”å¾ˆå®ç”¨ï¼Œä½†æ˜¯éƒ¨ç½²æ–¹å¼æœ‰å¾ˆå¤šã€‚\ngh-pagesæ˜¯github-pagesçš„ç¼©å†™ï¼Œå¯ä»¥ç”¨äºä¸ªäººåšå®¢å’Œé¡¹ç›®ä»‹ç»çš„ç½‘ç«™æœåŠ¡ã€‚\ngh-pagesä¹Ÿæ˜¯githubç‰¹æ®Šçš„åˆ†æ”¯ï¼Œç”¨æ¥å­˜æ”¾ç½‘ç«™ç›¸å…³çš„ä¸€äº›èµ„æºï¼Œé€šå¸¸ç½‘ç«™åœ°å€ä¸ºusername.github.io/ä»“åº“å\né¡¹ç›®åä¸username.github.ioä¸€æ ·çš„è¯ï¼Œå¯ä»¥çœç•¥ä»“åº“åï¼Œè·Ÿgithubä¸ªäººèµ„æ–™é¡µé¢ä¸€æ ·ï¼Œæ‰€ä»¥è¿™ä¸ªä»“åº“æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ä»“åº“ï¼Œé»˜è®¤ä¼šè‡ªåŠ¨å¼€å¯gh-pagesæœåŠ¡ã€‚åˆ«çš„éœ€è¦æ‰‹åŠ¨ã€‚\nè™½ç„¶gh-pages æ˜¯å±äºå…è´¹çš„æœåŠ¡ï¼ŒåŸºæœ¬ä¸Šåªè¦ä½ æŒæœ‰GitHub å¸å·å°±å¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯å®ƒåŸºæœ¬ä¸Šæœ‰å‡ ä¸ªé‡ç‚¹å¯ä»¥ç¨å¾®æ³¨æ„ä¸€ä¸‹ï¼š\nåªèƒ½æ”¾ç½®çº¯é™æ€ç½‘é¡µï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰åç«¯çš„ç½‘é¡µï¼Œä¾‹å¦‚PHPã€Node.jsã€Python ç­‰ç­‰ï¼Œåªèƒ½æ˜¯çº¯HTMLã€CSSã€JavaScript ç­‰ç­‰ï¼Œå› ä¸ºå®ƒå¹¶æ²¡æœ‰è¿ç®—èƒ½åŠ›ã€‚ gh-pages æ˜¯ä»¥å‚¨å­˜åº“ä¸ºå•ä½ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªå‚¨å­˜åº“éƒ½å¯ä»¥æœ‰ä¸€ä¸ªgh-pages åˆ†æ”¯ï¼Œä½†æ˜¯æ¯ä¸ªå‚¨å­˜åº“åªèƒ½æœ‰ä¸€ä¸ªgh-pages åˆ†æ”¯ï¼Œå› æ­¤å¦‚æœä½ æƒ³è¦éƒ¨ç½²å¤šä¸ªç½‘é¡µï¼Œé‚£ä¹ˆä½ å°±éœ€è¦å»ºç«‹å¤šä¸ªå‚¨å­˜åº“ã€‚ gh-pages çš„å®¹é‡æ˜¯æœ‰é™åˆ¶çš„ï¼Œæ¯ä¸ªå‚¨å­˜åº“çš„å®¹é‡æ˜¯1GBï¼Œå¦‚æœä½ çš„ç½‘é¡µè¶…è¿‡è¿™ä¸ªå®¹é‡ï¼Œé‚£ä¹ˆå°±æ— æ³•éƒ¨ç½²ã€‚ gh-pages çš„æµé‡ä¸ºæ¯æœˆ100GB gh-pages æ¯å°æ—¶åªèƒ½éƒ¨ç½²10 æ¬¡ï¼Œå¦‚æœæ˜¯ä½¿ç”¨è‡ªå·±å†™çš„GitHub Actions å°±æ²¡æœ‰è¿™ä¸ªé™åˆ¶ï¼ˆæ¯•ç«Ÿè¦èŠ±é’±ï¼‰ã€‚ å…è´¹çš„ssh å‡­è¯ é¢„è®¾çš„ç½‘åŸŸæ˜¯https://\u0026lt;username\u0026gt;.github.io/\u0026lt;repository\u0026gt;ï¼Œå¦‚æœä½ æƒ³è¦ä½¿ç”¨è‡ªå·±çš„ç½‘åŸŸï¼Œé‚£ä¹ˆä½ å°±éœ€è¦èŠ±é’±è´­ä¹°ç½‘åŸŸï¼Œå¹¶ä¸”è®¾å®šDNS æœ€åè¦ç¨å¾®æ³¨æ„ä¸€ä¸‹gh-pages è™½ç„¶æ˜¯å…è´¹æä¾›çš„é™æ€ç½‘é¡µæ‰˜ç®¡æœåŠ¡ï¼Œä½†æ˜¯å®ƒå¹¶ä¸èƒ½æ‹¿æ¥ä½œä¸ºå•†ä¸šç”¨é€”æˆ–æ˜¯è¿æ³•ç”¨é€”ï¼Œå¦åˆ™ä½ çš„å¸å·å¯èƒ½ä¼šè¢«å°é”\nç®€å•è¯´ä¸€ä¸‹å¦‚ä½•æŸ¥çœ‹ä¸€ä¸ªä»“åº“æ˜¯å¦å¯ç”¨gh-pagesï¼šè¿›å…¥é¡¹ç›®settings-pagesæŸ¥çœ‹å³å¯ï¼Œæœ‰ç»¿è‰²é’©å°±å¯åŠ¨æˆåŠŸï¼Œæ²¡æœ‰éœ€è¦æŒ‡å®šåˆ†æ”¯å’Œæ ¹ç›®å½•ï¼Œä¿å­˜ï¼Œç¨ç­‰ä¸€ä¼šå°±è¡Œã€‚\n#\rç”¨gh-pagesåˆ†æ”¯å±•ç¤ºè‡ªå·±çš„é¡¹ç›®\ræˆ‘ä»¬åªéœ€è¦å°†ç½‘é¡µèµ„æºä¸Šä¼ è‡³gh-pagesåˆ†æ”¯å³å¯\næ­å»ºé¡¹ç›®ç½‘ç«™ï¼šå°†é¡¹ç›®ç½‘ç«™èµ„æºæ¨é€åˆ°gh-pagesåˆ†æ”¯ä¸Š,é™æ€èµ„æºå¿…é¡»æäº¤äº†æ‰ä¼šæˆåŠŸ\n1 git subtree push --prefix=dist origin gh-pages # distä¸ºé¡¹ç›®ç½‘ç«™çš„ç›®å½• æ‹‰å–æŒ‡å®šåˆ†æ”¯\n1 2 3 4 5 6 7 8 git fetch origin # è·å–originä»“åº“çš„ä¿¡æ¯ git checkout -b aaa origin/aaa # åˆ›å»ºå¹¶æ£€å‡ºåˆ†æ”¯ # git cloneä¹‹åä¹Ÿä¹Ÿå¯ä»¥æ£€å‡ºåˆ†æ”¯ git checkout gh-page # å¤±è´¥ç”¨ä¸Šé¢åŠæ³• # åœ¨git clone çš„æ—¶å€™å¯ä»¥æŒ‡å®šåˆ†æ”¯-bé€‰é¡¹ git clone -b url å¦‚æœè¦é¡¹ç›®ä¸­ä¸å«è‡ªå·±ç½‘ç«™çš„æºç ï¼Œå¯ä»¥å¿½ç•¥publicç›®å½•ï¼Œå°†publicç›®å½•åˆ›å»ºä¸ºä¸€ä¸ªç§æœ‰ä»“åº“çš„å­ç›®å½•ï¼Œç„¶åå°†å­ç›®å½•ä½œä¸ºï¼Œé¡¹ç›®çš„gh-pagesåˆ†æ”¯ã€‚\nä¸Šé¢çš„æ–¹å¼æ˜¯æœ€ç®€å•çš„ã€‚\n","date":"2024-04-22T16:12:26+08:00","image":"https://arlettebrook.github.io/p/%E5%9F%BA%E4%BA%8Ehugo%E5%92%8Cgh-pages%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/helena-hertz-wWZzXlDpMog-unsplash_hu45a5e3ad5e058da6a00650ed8fd40bea_15530_120x120_fill_q75_box_smart1.jpg","permalink":"https://arlettebrook.github.io/p/%E5%9F%BA%E4%BA%8Ehugo%E5%92%8Cgh-pages%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/","title":"åŸºäºHugoå’Œgh-pageså¿«é€Ÿæ­å»ºé™æ€ç½‘ç«™"}]